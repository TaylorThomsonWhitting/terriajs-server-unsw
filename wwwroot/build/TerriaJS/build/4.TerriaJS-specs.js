(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[4],{

/***/ "./lib/ReactViews/Tools/DiffTool/DatePicker.tsx":
/*!******************************************************!*\
  !*** ./lib/ReactViews/Tools/DiffTool/DatePicker.tsx ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.array.reverse.js */ \"../../../node_modules/core-js/modules/es.array.reverse.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.date.to-iso-string.js */ \"../../../node_modules/core-js/modules/es.date.to-iso-string.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\nvar _styledComponents = _interopRequireDefault(__webpack_require__(/*! styled-components */ \"../../../node_modules/styled-components/dist/styled-components.browser.esm.js\"));\nvar _mobx = __webpack_require__(/*! mobx */ \"../../../node_modules/mobx/dist/mobx.esm.js\");\nvar _mobxReact = __webpack_require__(/*! mobx-react */ \"../../../node_modules/mobx-react/dist/mobxreact.esm.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"../../../node_modules/react/index.js\"));\nvar _reactI18next = __webpack_require__(/*! react-i18next */ \"../../../node_modules/react-i18next/dist/es/index.js\");\nvar _JulianDate = _interopRequireDefault(__webpack_require__(/*! terriajs-cesium/Source/Core/JulianDate */ \"../../../node_modules/terriajs-cesium/Source/Core/JulianDate.js\"));\nvar _CommonStrata = _interopRequireDefault(__webpack_require__(/*! ../../../Models/Definition/CommonStrata */ \"./lib/Models/Definition/CommonStrata.ts\"));\nvar _DateFormats = __webpack_require__(/*! ../../BottomDock/Timeline/DateFormats */ \"./lib/ReactViews/BottomDock/Timeline/DateFormats.js\");\nvar _Icon = _interopRequireWildcard(__webpack_require__(/*! ../../../Styled/Icon */ \"./lib/Styled/Icon.tsx\"));\nvar _DateTimePicker = _interopRequireDefault(__webpack_require__(/*! ../../BottomDock/Timeline/DateTimePicker */ \"./lib/ReactViews/BottomDock/Timeline/DateTimePicker.tsx\"));\nvar _Text = _interopRequireWildcard(__webpack_require__(/*! ../../../Styled/Text */ \"./lib/Styled/Text.tsx\"));\nvar _Box = _interopRequireDefault(__webpack_require__(/*! ../../../Styled/Box */ \"./lib/Styled/Box.tsx\"));\nvar _Button = _interopRequireDefault(__webpack_require__(/*! ../../../Styled/Button */ \"./lib/Styled/Button.tsx\"));\nvar _Spacing = _interopRequireDefault(__webpack_require__(/*! ../../../Styled/Spacing */ \"./lib/Styled/Spacing.tsx\"));\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor;\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\nvar dateFormat = __webpack_require__(/*! dateformat */ \"../../../node_modules/dateformat/lib/dateformat.js\");\nvar DatePicker = (_dec = _mobx.action.bound, _dec2 = _mobx.action.bound, _dec3 = _mobx.action.bound, _dec4 = _mobx.action.bound, _dec5 = _mobx.action.bound, _dec6 = _mobx.action.bound, (0, _mobxReact.observer)(_class = (_class2 = /*#__PURE__*/function (_React$Component) {\n  _inherits(DatePicker, _React$Component);\n  function DatePicker(props) {\n    var _this;\n    _classCallCheck(this, DatePicker);\n    _this = _callSuper(this, DatePicker, [props]);\n    _initializerDefineProperty(_assertThisInitialized(_this), \"isOpen\", _descriptor, _assertThisInitialized(_this));\n    (0, _mobx.makeObservable)(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(DatePicker, [{\n    key: \"currentDate\",\n    get: function get() {\n      var date = this.props.item.currentDiscreteJulianDate;\n      return date && _JulianDate[\"default\"].toDate(date);\n    }\n  }, {\n    key: \"formattedCurrentDate\",\n    get: function get() {\n      if (this.currentDate === undefined) {\n        return;\n      }\n      var dateFormatting = undefined; // TODO\n      var formattedDate = dateFormatting !== undefined ? dateFormat(this.currentDate, dateFormatting) : (0, _DateFormats.formatDateTime)(this.currentDate);\n      return formattedDate;\n    }\n  }, {\n    key: \"toggleOpen\",\n    value: function toggleOpen(e) {\n      this.isOpen = !this.isOpen;\n      // stopPropagation is required to prevent the datetime picker popup from closing when\n      // the date button is clicked\n      e.stopPropagation();\n    }\n  }, {\n    key: \"setIsOpen\",\n    value: function setIsOpen(isOpen) {\n      this.isOpen = isOpen;\n    }\n  }, {\n    key: \"changeCurrentDate\",\n    value: function changeCurrentDate(date) {\n      this.props.item.setTrait(_CommonStrata[\"default\"].user, \"currentTime\", date.toISOString());\n      this.props.onDateSet();\n    }\n  }, {\n    key: \"moveToPreviousDate\",\n    value: function moveToPreviousDate() {\n      this.props.item.moveToPreviousDiscreteTime(_CommonStrata[\"default\"].user);\n      this.props.onDateSet();\n    }\n  }, {\n    key: \"moveToNextDate\",\n    value: function moveToNextDate() {\n      this.props.item.moveToNextDiscreteTime(_CommonStrata[\"default\"].user);\n      this.props.onDateSet();\n    }\n  }, {\n    key: \"onClickExternalButton\",\n    value: function onClickExternalButton(event) {\n      this.setIsOpen(true);\n      // stopPropagation is required to prevent the datetime picker popup from closing when\n      // the external button is clicked\n      event.stopPropagation();\n    }\n  }, {\n    key: \"registerExternalButtonClick\",\n    value: function registerExternalButtonClick() {\n      var _this$props$externalO;\n      (_this$props$externalO = this.props.externalOpenButton.current) === null || _this$props$externalO === void 0 || _this$props$externalO.addEventListener(\"click\", this.onClickExternalButton);\n    }\n  }, {\n    key: \"unregisterExternalButtonClick\",\n    value: function unregisterExternalButtonClick(externalOpenButton) {\n      var _externalOpenButton$c;\n      (_externalOpenButton$c = externalOpenButton.current) === null || _externalOpenButton$c === void 0 || _externalOpenButton$c.removeEventListener(\"click\", this.onClickExternalButton);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.registerExternalButtonClick();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      this.unregisterExternalButtonClick(prevProps.externalOpenButton);\n      this.registerExternalButtonClick();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.unregisterExternalButtonClick(this.props.externalOpenButton);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$props = this.props,\n        heading = _this$props.heading,\n        item = _this$props.item,\n        t = _this$props.t;\n      return /*#__PURE__*/_react[\"default\"].createElement(_Box[\"default\"], {\n        column: true,\n        centered: true,\n        flex: 1\n      }, /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 4\n      }), /*#__PURE__*/_react[\"default\"].createElement(_Box[\"default\"], {\n        centered: true\n      }, /*#__PURE__*/_react[\"default\"].createElement(_StyledStyledIcon, {\n        light: true,\n        styledWidth: \"21px\",\n        glyph: _Icon[\"default\"].GLYPHS.calendar2,\n        $_css: \"margin-top:-2px;\"\n      }), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        right: 2\n      }), /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], {\n        textLight: true,\n        extraLarge: true\n      }, heading)), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 2\n      }), /*#__PURE__*/_react[\"default\"].createElement(_Box[\"default\"], null, /*#__PURE__*/_react[\"default\"].createElement(PrevButton, {\n        disabled: item.isPreviousDiscreteTimeAvailable === false,\n        title: t(\"diffTool.datePicker.previousDateTitle\"),\n        onClick: this.moveToPreviousDate\n      }), /*#__PURE__*/_react[\"default\"].createElement(DateButton, {\n        primary: true,\n        isOpen: this.isOpen,\n        onClick: this.toggleOpen,\n        title: t(\"diffTool.datePicker.dateButtonTitle\")\n      }, /*#__PURE__*/_react[\"default\"].createElement(_Text.TextSpan, {\n        extraLarge: true\n      }, this.formattedCurrentDate || \"-\")), /*#__PURE__*/_react[\"default\"].createElement(NextButton, {\n        disabled: item.isNextDiscreteTimeAvailable === false,\n        title: t(\"diffTool.datePicker.nextDateTitle\"),\n        onClick: this.moveToNextDate\n      })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        style: {\n          display: this.isOpen ? \"block\" : \"none\",\n          position: \"absolute\"\n        }\n      }, /*#__PURE__*/_react[\"default\"].createElement(_DateTimePicker[\"default\"], {\n        currentDate: this.currentDate,\n        dates: this.props.item.objectifiedDates,\n        onChange: this.changeCurrentDate,\n        openDirection: \"none\",\n        isOpen: this.isOpen,\n        onOpen: function onOpen() {\n          return _this2.setIsOpen(true);\n        },\n        onClose: function onClose() {\n          return _this2.setIsOpen(false);\n        }\n      })), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 4\n      }));\n    }\n  }]);\n  return DatePicker;\n}(_react[\"default\"].Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"isOpen\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _applyDecoratedDescriptor(_class2.prototype, \"currentDate\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class2.prototype, \"currentDate\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"formattedCurrentDate\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class2.prototype, \"formattedCurrentDate\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"toggleOpen\", [_dec], Object.getOwnPropertyDescriptor(_class2.prototype, \"toggleOpen\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"setIsOpen\", [_dec2], Object.getOwnPropertyDescriptor(_class2.prototype, \"setIsOpen\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"changeCurrentDate\", [_dec3], Object.getOwnPropertyDescriptor(_class2.prototype, \"changeCurrentDate\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"moveToPreviousDate\", [_dec4], Object.getOwnPropertyDescriptor(_class2.prototype, \"moveToPreviousDate\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"moveToNextDate\", [_dec5], Object.getOwnPropertyDescriptor(_class2.prototype, \"moveToNextDate\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"onClickExternalButton\", [_dec6], Object.getOwnPropertyDescriptor(_class2.prototype, \"onClickExternalButton\"), _class2.prototype)), _class2)) || _class);\nvar PagerButton = (0, _styledComponents[\"default\"])(_Button[\"default\"]).attrs({\n  iconProps: {\n    css: \"margin-right:0;\"\n  }\n}).withConfig({\n  displayName: \"DatePicker__PagerButton\",\n  componentId: \"sc-etg7cf-0\"\n})([\"cursor:pointer;background-color:\", \";width:40px;border:1px solid transparent;\", \" flex-direction:column;\"], function (props) {\n  return props.theme.colorPrimary;\n}, function (_ref) {\n  var theme = _ref.theme;\n  return theme.centerWithFlex();\n});\nvar PrevButton = (0, _styledComponents[\"default\"])(PagerButton).attrs({\n  renderIcon: function renderIcon() {\n    return /*#__PURE__*/_react[\"default\"].createElement(_StyledStyledIcon2, {\n      light: true,\n      styledWidth: \"15px\",\n      glyph: _Icon[\"default\"].GLYPHS.arrowDown\n    });\n  }\n}).withConfig({\n  displayName: \"DatePicker__PrevButton\",\n  componentId: \"sc-etg7cf-1\"\n})([\"\", \" margin-right:1px;\"], function (_ref2) {\n  var theme = _ref2.theme;\n  return theme.borderRadiusLeft(theme.radius40Button);\n});\nvar NextButton = (0, _styledComponents[\"default\"])(PagerButton).attrs({\n  renderIcon: function renderIcon() {\n    return /*#__PURE__*/_react[\"default\"].createElement(_StyledStyledIcon3, {\n      light: true,\n      styledWidth: \"15px\",\n      glyph: _Icon[\"default\"].GLYPHS.arrowDown\n    });\n  }\n}).withConfig({\n  displayName: \"DatePicker__NextButton\",\n  componentId: \"sc-etg7cf-2\"\n})([\"\", \" margin-left:1px;\"], function (_ref3) {\n  var theme = _ref3.theme;\n  return theme.borderRadiusRight(theme.radius40Button);\n});\nvar DateButton = (0, _styledComponents[\"default\"])(_Button[\"default\"]).withConfig({\n  displayName: \"DatePicker__DateButton\",\n  componentId: \"sc-etg7cf-3\"\n})([\"z-index:0;\", \";border-radius:0px;border:1px solid \", \";min-width:235px;@media (max-width:\", \"px){min-width:150px;}\"], function (props) {\n  return props.isOpen && \"z-index: 1000;\";\n}, function (props) {\n  return props.theme.colorPrimary;\n}, function (props) {\n  return props.theme.lg;\n});\nvar _default = exports[\"default\"] = (0, _reactI18next.withTranslation)()(DatePicker);\nvar _StyledStyledIcon = (0, _styledComponents[\"default\"])(_Icon.StyledIcon).withConfig({\n  displayName: \"DatePicker___StyledStyledIcon\",\n  componentId: \"sc-etg7cf-4\"\n})([\"\", \"\"], function (p) {\n  return p.$_css;\n});\nvar _StyledStyledIcon2 = (0, _styledComponents[\"default\"])(_Icon.StyledIcon).withConfig({\n  displayName: \"DatePicker___StyledStyledIcon2\",\n  componentId: \"sc-etg7cf-5\"\n})([\"transform:rotate(90deg);\"]);\nvar _StyledStyledIcon3 = (0, _styledComponents[\"default\"])(_Icon.StyledIcon).withConfig({\n  displayName: \"DatePicker___StyledStyledIcon3\",\n  componentId: \"sc-etg7cf-6\"\n})([\"transform:rotate(270deg);\"]);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvUmVhY3RWaWV3cy9Ub29scy9EaWZmVG9vbC9EYXRlUGlja2VyLnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9SZWFjdFZpZXdzL1Rvb2xzL0RpZmZUb29sL0RhdGVQaWNrZXIudHN4PzE3OGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWN0aW9uLCBjb21wdXRlZCwgb2JzZXJ2YWJsZSwgbWFrZU9ic2VydmFibGUgfSBmcm9tIFwibW9ieFwiO1xyXG5pbXBvcnQgeyBvYnNlcnZlciB9IGZyb20gXCJtb2J4LXJlYWN0XCI7XHJcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgV2l0aFRyYW5zbGF0aW9uLCB3aXRoVHJhbnNsYXRpb24gfSBmcm9tIFwicmVhY3QtaTE4bmV4dFwiO1xyXG5pbXBvcnQgc3R5bGVkIGZyb20gXCJzdHlsZWQtY29tcG9uZW50c1wiO1xyXG5pbXBvcnQgSnVsaWFuRGF0ZSBmcm9tIFwidGVycmlhanMtY2VzaXVtL1NvdXJjZS9Db3JlL0p1bGlhbkRhdGVcIjtcclxuaW1wb3J0IERpZmZhYmxlTWl4aW4gZnJvbSBcIi4uLy4uLy4uL01vZGVsTWl4aW5zL0RpZmZhYmxlTWl4aW5cIjtcclxuaW1wb3J0IENvbW1vblN0cmF0YSBmcm9tIFwiLi4vLi4vLi4vTW9kZWxzL0RlZmluaXRpb24vQ29tbW9uU3RyYXRhXCI7XHJcbmltcG9ydCB7IGZvcm1hdERhdGVUaW1lIH0gZnJvbSBcIi4uLy4uL0JvdHRvbURvY2svVGltZWxpbmUvRGF0ZUZvcm1hdHNcIjtcclxuaW1wb3J0IEljb24sIHsgU3R5bGVkSWNvbiB9IGZyb20gXCIuLi8uLi8uLi9TdHlsZWQvSWNvblwiO1xyXG5pbXBvcnQgRGF0ZVRpbWVQaWNrZXIgZnJvbSBcIi4uLy4uL0JvdHRvbURvY2svVGltZWxpbmUvRGF0ZVRpbWVQaWNrZXJcIjtcclxuaW1wb3J0IFRleHQsIHsgVGV4dFNwYW4gfSBmcm9tIFwiLi4vLi4vLi4vU3R5bGVkL1RleHRcIjtcclxuaW1wb3J0IEJveCBmcm9tIFwiLi4vLi4vLi4vU3R5bGVkL0JveFwiO1xyXG5pbXBvcnQgQnV0dG9uIGZyb20gXCIuLi8uLi8uLi9TdHlsZWQvQnV0dG9uXCI7XHJcbmltcG9ydCBTcGFjaW5nIGZyb20gXCIuLi8uLi8uLi9TdHlsZWQvU3BhY2luZ1wiO1xyXG5jb25zdCBkYXRlRm9ybWF0ID0gcmVxdWlyZShcImRhdGVmb3JtYXRcIik7XHJcblxyXG5pbnRlcmZhY2UgUHJvcHNUeXBlIGV4dGVuZHMgV2l0aFRyYW5zbGF0aW9uIHtcclxuICBoZWFkaW5nOiBzdHJpbmc7XHJcbiAgaXRlbTogRGlmZmFibGVNaXhpbi5JbnN0YW5jZTtcclxuICBleHRlcm5hbE9wZW5CdXR0b246IFJlYWN0LlJlZk9iamVjdDxIVE1MQnV0dG9uRWxlbWVudD47XHJcbiAgb25EYXRlU2V0OiAoKSA9PiB2b2lkO1xyXG59XHJcblxyXG5Ab2JzZXJ2ZXJcclxuY2xhc3MgRGF0ZVBpY2tlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxQcm9wc1R5cGU+IHtcclxuICBAb2JzZXJ2YWJsZSBwcml2YXRlIGlzT3BlbiA9IGZhbHNlO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHNUeXBlKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcbiAgICBtYWtlT2JzZXJ2YWJsZSh0aGlzKTtcclxuICB9XHJcblxyXG4gIEBjb21wdXRlZFxyXG4gIGdldCBjdXJyZW50RGF0ZSgpOiBEYXRlIHwgdW5kZWZpbmVkIHtcclxuICAgIGNvbnN0IGRhdGUgPSB0aGlzLnByb3BzLml0ZW0uY3VycmVudERpc2NyZXRlSnVsaWFuRGF0ZTtcclxuICAgIHJldHVybiBkYXRlICYmIEp1bGlhbkRhdGUudG9EYXRlKGRhdGUpO1xyXG4gIH1cclxuXHJcbiAgQGNvbXB1dGVkXHJcbiAgZ2V0IGZvcm1hdHRlZEN1cnJlbnREYXRlKCkge1xyXG4gICAgaWYgKHRoaXMuY3VycmVudERhdGUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBkYXRlRm9ybWF0dGluZyA9IHVuZGVmaW5lZDsgLy8gVE9ET1xyXG4gICAgY29uc3QgZm9ybWF0dGVkRGF0ZSA9XHJcbiAgICAgIGRhdGVGb3JtYXR0aW5nICE9PSB1bmRlZmluZWRcclxuICAgICAgICA/IGRhdGVGb3JtYXQodGhpcy5jdXJyZW50RGF0ZSwgZGF0ZUZvcm1hdHRpbmcpXHJcbiAgICAgICAgOiBmb3JtYXREYXRlVGltZSh0aGlzLmN1cnJlbnREYXRlKTtcclxuICAgIHJldHVybiBmb3JtYXR0ZWREYXRlO1xyXG4gIH1cclxuXHJcbiAgQGFjdGlvbi5ib3VuZFxyXG4gIHRvZ2dsZU9wZW4oZTogUmVhY3QuTW91c2VFdmVudDxIVE1MQnV0dG9uRWxlbWVudCwgTW91c2VFdmVudD4pIHtcclxuICAgIHRoaXMuaXNPcGVuID0gIXRoaXMuaXNPcGVuO1xyXG4gICAgLy8gc3RvcFByb3BhZ2F0aW9uIGlzIHJlcXVpcmVkIHRvIHByZXZlbnQgdGhlIGRhdGV0aW1lIHBpY2tlciBwb3B1cCBmcm9tIGNsb3Npbmcgd2hlblxyXG4gICAgLy8gdGhlIGRhdGUgYnV0dG9uIGlzIGNsaWNrZWRcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgfVxyXG5cclxuICBAYWN0aW9uLmJvdW5kXHJcbiAgc2V0SXNPcGVuKGlzT3BlbjogYm9vbGVhbikge1xyXG4gICAgdGhpcy5pc09wZW4gPSBpc09wZW47XHJcbiAgfVxyXG5cclxuICBAYWN0aW9uLmJvdW5kXHJcbiAgY2hhbmdlQ3VycmVudERhdGUoZGF0ZTogRGF0ZSkge1xyXG4gICAgdGhpcy5wcm9wcy5pdGVtLnNldFRyYWl0KFxyXG4gICAgICBDb21tb25TdHJhdGEudXNlcixcclxuICAgICAgXCJjdXJyZW50VGltZVwiLFxyXG4gICAgICBkYXRlLnRvSVNPU3RyaW5nKClcclxuICAgICk7XHJcbiAgICB0aGlzLnByb3BzLm9uRGF0ZVNldCgpO1xyXG4gIH1cclxuXHJcbiAgQGFjdGlvbi5ib3VuZFxyXG4gIG1vdmVUb1ByZXZpb3VzRGF0ZSgpIHtcclxuICAgIHRoaXMucHJvcHMuaXRlbS5tb3ZlVG9QcmV2aW91c0Rpc2NyZXRlVGltZShDb21tb25TdHJhdGEudXNlcik7XHJcbiAgICB0aGlzLnByb3BzLm9uRGF0ZVNldCgpO1xyXG4gIH1cclxuXHJcbiAgQGFjdGlvbi5ib3VuZFxyXG4gIG1vdmVUb05leHREYXRlKCkge1xyXG4gICAgdGhpcy5wcm9wcy5pdGVtLm1vdmVUb05leHREaXNjcmV0ZVRpbWUoQ29tbW9uU3RyYXRhLnVzZXIpO1xyXG4gICAgdGhpcy5wcm9wcy5vbkRhdGVTZXQoKTtcclxuICB9XHJcblxyXG4gIEBhY3Rpb24uYm91bmRcclxuICBvbkNsaWNrRXh0ZXJuYWxCdXR0b24oZXZlbnQ6IE1vdXNlRXZlbnQpIHtcclxuICAgIHRoaXMuc2V0SXNPcGVuKHRydWUpO1xyXG4gICAgLy8gc3RvcFByb3BhZ2F0aW9uIGlzIHJlcXVpcmVkIHRvIHByZXZlbnQgdGhlIGRhdGV0aW1lIHBpY2tlciBwb3B1cCBmcm9tIGNsb3Npbmcgd2hlblxyXG4gICAgLy8gdGhlIGV4dGVybmFsIGJ1dHRvbiBpcyBjbGlja2VkXHJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICB9XHJcblxyXG4gIHJlZ2lzdGVyRXh0ZXJuYWxCdXR0b25DbGljaygpIHtcclxuICAgIHRoaXMucHJvcHMuZXh0ZXJuYWxPcGVuQnV0dG9uLmN1cnJlbnQ/LmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIFwiY2xpY2tcIixcclxuICAgICAgdGhpcy5vbkNsaWNrRXh0ZXJuYWxCdXR0b25cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICB1bnJlZ2lzdGVyRXh0ZXJuYWxCdXR0b25DbGljayhcclxuICAgIGV4dGVybmFsT3BlbkJ1dHRvbjogUmVhY3QuUmVmT2JqZWN0PEhUTUxCdXR0b25FbGVtZW50PlxyXG4gICkge1xyXG4gICAgZXh0ZXJuYWxPcGVuQnV0dG9uLmN1cnJlbnQ/LnJlbW92ZUV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIFwiY2xpY2tcIixcclxuICAgICAgdGhpcy5vbkNsaWNrRXh0ZXJuYWxCdXR0b25cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgIHRoaXMucmVnaXN0ZXJFeHRlcm5hbEJ1dHRvbkNsaWNrKCk7XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzOiBQcm9wc1R5cGUpIHtcclxuICAgIHRoaXMudW5yZWdpc3RlckV4dGVybmFsQnV0dG9uQ2xpY2socHJldlByb3BzLmV4dGVybmFsT3BlbkJ1dHRvbik7XHJcbiAgICB0aGlzLnJlZ2lzdGVyRXh0ZXJuYWxCdXR0b25DbGljaygpO1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICB0aGlzLnVucmVnaXN0ZXJFeHRlcm5hbEJ1dHRvbkNsaWNrKHRoaXMucHJvcHMuZXh0ZXJuYWxPcGVuQnV0dG9uKTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IHsgaGVhZGluZywgaXRlbSwgdCB9ID0gdGhpcy5wcm9wcztcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxCb3ggY29sdW1uIGNlbnRlcmVkIGZsZXg9ezF9PlxyXG4gICAgICAgIDxTcGFjaW5nIGJvdHRvbT17NH0gLz5cclxuICAgICAgICA8Qm94IGNlbnRlcmVkPlxyXG4gICAgICAgICAgPFN0eWxlZEljb25cclxuICAgICAgICAgICAgbGlnaHRcclxuICAgICAgICAgICAgc3R5bGVkV2lkdGg9XCIyMXB4XCJcclxuICAgICAgICAgICAgZ2x5cGg9e0ljb24uR0xZUEhTLmNhbGVuZGFyMn1cclxuICAgICAgICAgICAgY3NzPXtcIm1hcmdpbi10b3A6LTJweDtcIn1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgICA8U3BhY2luZyByaWdodD17Mn0gLz5cclxuICAgICAgICAgIDxUZXh0IHRleHRMaWdodCBleHRyYUxhcmdlPlxyXG4gICAgICAgICAgICB7aGVhZGluZ31cclxuICAgICAgICAgIDwvVGV4dD5cclxuICAgICAgICA8L0JveD5cclxuICAgICAgICA8U3BhY2luZyBib3R0b209ezJ9IC8+XHJcbiAgICAgICAgPEJveD5cclxuICAgICAgICAgIDxQcmV2QnV0dG9uXHJcbiAgICAgICAgICAgIGRpc2FibGVkPXtpdGVtLmlzUHJldmlvdXNEaXNjcmV0ZVRpbWVBdmFpbGFibGUgPT09IGZhbHNlfVxyXG4gICAgICAgICAgICB0aXRsZT17dChcImRpZmZUb29sLmRhdGVQaWNrZXIucHJldmlvdXNEYXRlVGl0bGVcIil9XHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubW92ZVRvUHJldmlvdXNEYXRlfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICAgIDxEYXRlQnV0dG9uXHJcbiAgICAgICAgICAgIHByaW1hcnlcclxuICAgICAgICAgICAgaXNPcGVuPXt0aGlzLmlzT3Blbn1cclxuICAgICAgICAgICAgb25DbGljaz17dGhpcy50b2dnbGVPcGVufVxyXG4gICAgICAgICAgICB0aXRsZT17dChcImRpZmZUb29sLmRhdGVQaWNrZXIuZGF0ZUJ1dHRvblRpdGxlXCIpfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8VGV4dFNwYW4gZXh0cmFMYXJnZT57dGhpcy5mb3JtYXR0ZWRDdXJyZW50RGF0ZSB8fCBcIi1cIn08L1RleHRTcGFuPlxyXG4gICAgICAgICAgPC9EYXRlQnV0dG9uPlxyXG4gICAgICAgICAgPE5leHRCdXR0b25cclxuICAgICAgICAgICAgZGlzYWJsZWQ9e2l0ZW0uaXNOZXh0RGlzY3JldGVUaW1lQXZhaWxhYmxlID09PSBmYWxzZX1cclxuICAgICAgICAgICAgdGl0bGU9e3QoXCJkaWZmVG9vbC5kYXRlUGlja2VyLm5leHREYXRlVGl0bGVcIil9XHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubW92ZVRvTmV4dERhdGV9XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgIDwvQm94PlxyXG4gICAgICAgIDxkaXZcclxuICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IHRoaXMuaXNPcGVuID8gXCJibG9ja1wiIDogXCJub25lXCIsXHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCJcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPERhdGVUaW1lUGlja2VyXHJcbiAgICAgICAgICAgIGN1cnJlbnREYXRlPXt0aGlzLmN1cnJlbnREYXRlfVxyXG4gICAgICAgICAgICBkYXRlcz17dGhpcy5wcm9wcy5pdGVtLm9iamVjdGlmaWVkRGF0ZXN9XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmNoYW5nZUN1cnJlbnREYXRlfVxyXG4gICAgICAgICAgICBvcGVuRGlyZWN0aW9uPVwibm9uZVwiXHJcbiAgICAgICAgICAgIGlzT3Blbj17dGhpcy5pc09wZW59XHJcbiAgICAgICAgICAgIG9uT3Blbj17KCkgPT4gdGhpcy5zZXRJc09wZW4odHJ1ZSl9XHJcbiAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHRoaXMuc2V0SXNPcGVuKGZhbHNlKX1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPFNwYWNpbmcgYm90dG9tPXs0fSAvPlxyXG4gICAgICA8L0JveD5cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBQYWdlckJ1dHRvbiA9IHN0eWxlZChCdXR0b24pLmF0dHJzKHtcclxuICBpY29uUHJvcHM6IHtcclxuICAgIGNzczogXCJtYXJnaW4tcmlnaHQ6MDtcIlxyXG4gIH1cclxufSlgXHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICR7KHByb3BzKSA9PiBwcm9wcy50aGVtZS5jb2xvclByaW1hcnl9O1xyXG4gIHdpZHRoOiA0MHB4O1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xyXG5cclxuICAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmNlbnRlcldpdGhGbGV4KCl9XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuYDtcclxuXHJcbmNvbnN0IFByZXZCdXR0b24gPSBzdHlsZWQoUGFnZXJCdXR0b24pLmF0dHJzKHtcclxuICByZW5kZXJJY29uOiAoKSA9PiAoXHJcbiAgICA8U3R5bGVkSWNvblxyXG4gICAgICBjc3M9XCJ0cmFuc2Zvcm06cm90YXRlKDkwZGVnKTtcIlxyXG4gICAgICBsaWdodFxyXG4gICAgICBzdHlsZWRXaWR0aD1cIjE1cHhcIlxyXG4gICAgICBnbHlwaD17SWNvbi5HTFlQSFMuYXJyb3dEb3dufVxyXG4gICAgLz5cclxuICApXHJcbn0pYFxyXG4gICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuYm9yZGVyUmFkaXVzTGVmdCh0aGVtZS5yYWRpdXM0MEJ1dHRvbil9XHJcbiAgbWFyZ2luLXJpZ2h0OiAxcHg7XHJcbmA7XHJcblxyXG5jb25zdCBOZXh0QnV0dG9uID0gc3R5bGVkKFBhZ2VyQnV0dG9uKS5hdHRycyh7XHJcbiAgcmVuZGVySWNvbjogKCkgPT4gKFxyXG4gICAgPFN0eWxlZEljb25cclxuICAgICAgY3NzPVwidHJhbnNmb3JtOnJvdGF0ZSgyNzBkZWcpO1wiXHJcbiAgICAgIGxpZ2h0XHJcbiAgICAgIHN0eWxlZFdpZHRoPVwiMTVweFwiXHJcbiAgICAgIGdseXBoPXtJY29uLkdMWVBIUy5hcnJvd0Rvd259XHJcbiAgICAvPlxyXG4gIClcclxufSlgXHJcbiAgJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5ib3JkZXJSYWRpdXNSaWdodCh0aGVtZS5yYWRpdXM0MEJ1dHRvbil9XHJcbiAgbWFyZ2luLWxlZnQ6IDFweDtcclxuYDtcclxuXHJcbmNvbnN0IERhdGVCdXR0b24gPSBzdHlsZWQoQnV0dG9uKTx7IGlzT3BlbjogYm9vbGVhbiB9PmBcclxuICAvLyB6LWluZGV4OiAxMDAwOyAvLyAoTmFuZGEpOiBTbyB0aGF0IHdlIGRvbid0IGxvb3NlIHRoZSBidXR0b24gY2xpY2tzIHRvIHRoZSBkYXRlIHBpY2tlciBwb3B1cFxyXG4gIHotaW5kZXg6IDA7XHJcbiAgJHsocHJvcHMpID0+IHByb3BzLmlzT3BlbiAmJiBgei1pbmRleDogMTAwMDtgfTtcclxuXHJcbiAgYm9yZGVyLXJhZGl1czogMHB4O1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICR7KHByb3BzKSA9PiBwcm9wcy50aGVtZS5jb2xvclByaW1hcnl9O1xyXG5cclxuICBtaW4td2lkdGg6IDIzNXB4O1xyXG4gIEBtZWRpYSAobWF4LXdpZHRoOiAkeyhwcm9wczogYW55KSA9PiBwcm9wcy50aGVtZS5sZ31weCkge1xyXG4gICAgbWluLXdpZHRoOiAxNTBweDtcclxuICB9XHJcbmA7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB3aXRoVHJhbnNsYXRpb24oKShEYXRlUGlja2VyKTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUlBO0FBSkE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQVNBO0FBSUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUtBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFJQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQTNKQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQThKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUlBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUdBO0FBQUE7QUFHQTtBQUFBO0FBR0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/ReactViews/Tools/DiffTool/DatePicker.tsx\n");

/***/ }),

/***/ "./lib/ReactViews/Tools/DiffTool/DiffTool.tsx":
/*!****************************************************!*\
  !*** ./lib/ReactViews/Tools/DiffTool/DiffTool.tsx ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.async-iterator.js */ \"../../../node_modules/core-js/modules/es.symbol.async-iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-string-tag.js */ \"../../../node_modules/core-js/modules/es.symbol.to-string-tag.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.array.reverse.js */ \"../../../node_modules/core-js/modules/es.array.reverse.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.json.to-string-tag.js */ \"../../../node_modules/core-js/modules/es.json.to-string-tag.js\");\n__webpack_require__(/*! core-js/modules/es.math.to-string-tag.js */ \"../../../node_modules/core-js/modules/es.math.to-string-tag.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.some.js */ \"../../../node_modules/core-js/modules/es.array.some.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.parse-int.js */ \"../../../node_modules/core-js/modules/es.parse-int.js\");\n__webpack_require__(/*! core-js/modules/es.promise.js */ \"../../../node_modules/core-js/modules/es.promise.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.string.search.js */ \"../../../node_modules/core-js/modules/es.string.search.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nvar _styledComponents = _interopRequireWildcard(__webpack_require__(/*! styled-components */ \"../../../node_modules/styled-components/dist/styled-components.browser.esm.js\"));\nvar _hoistNonReactStatics = _interopRequireDefault(__webpack_require__(/*! hoist-non-react-statics */ \"../../../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js\"));\nvar _mobx = __webpack_require__(/*! mobx */ \"../../../node_modules/mobx/dist/mobx.esm.js\");\nvar _mobxReact = __webpack_require__(/*! mobx-react */ \"../../../node_modules/mobx-react/dist/mobxreact.esm.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"../../../node_modules/react/index.js\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"../../../node_modules/react-dom/index.js\"));\nvar _reactI18next = __webpack_require__(/*! react-i18next */ \"../../../node_modules/react-i18next/dist/es/index.js\");\nvar _Cartographic = _interopRequireDefault(__webpack_require__(/*! terriajs-cesium/Source/Core/Cartographic */ \"../../../node_modules/terriajs-cesium/Source/Core/Cartographic.js\"));\nvar _createGuid = _interopRequireDefault(__webpack_require__(/*! terriajs-cesium/Source/Core/createGuid */ \"../../../node_modules/terriajs-cesium/Source/Core/createGuid.js\"));\nvar _Math = _interopRequireDefault(__webpack_require__(/*! terriajs-cesium/Source/Core/Math */ \"../../../node_modules/terriajs-cesium/Source/Core/Math.js\"));\nvar _SplitDirection = _interopRequireDefault(__webpack_require__(/*! terriajs-cesium/Source/Scene/SplitDirection */ \"../../../node_modules/terriajs-cesium/Source/Scene/SplitDirection.js\"));\nvar _filterOutUndefined = _interopRequireDefault(__webpack_require__(/*! ../../../Core/filterOutUndefined */ \"./lib/Core/filterOutUndefined.ts\"));\nvar _isDefined = _interopRequireDefault(__webpack_require__(/*! ../../../Core/isDefined */ \"./lib/Core/isDefined.ts\"));\nvar _prettifyCoordinates2 = _interopRequireDefault(__webpack_require__(/*! ../../../Map/Vector/prettifyCoordinates */ \"./lib/Map/Vector/prettifyCoordinates.ts\"));\nvar _DiffableMixin = _interopRequireDefault(__webpack_require__(/*! ../../../ModelMixins/DiffableMixin */ \"./lib/ModelMixins/DiffableMixin.ts\"));\nvar _MappableMixin = _interopRequireWildcard(__webpack_require__(/*! ../../../ModelMixins/MappableMixin */ \"./lib/ModelMixins/MappableMixin.ts\"));\nvar _CommonStrata = _interopRequireDefault(__webpack_require__(/*! ../../../Models/Definition/CommonStrata */ \"./lib/Models/Definition/CommonStrata.ts\"));\nvar _hasTraits = _interopRequireDefault(__webpack_require__(/*! ../../../Models/Definition/hasTraits */ \"./lib/Models/Definition/hasTraits.ts\"));\nvar _LocationMarkerUtils = __webpack_require__(/*! ../../../Models/LocationMarkerUtils */ \"./lib/Models/LocationMarkerUtils.ts\");\nvar _SplitItemReference = _interopRequireDefault(__webpack_require__(/*! ../../../Models/Catalog/CatalogReferences/SplitItemReference */ \"./lib/Models/Catalog/CatalogReferences/SplitItemReference.ts\"));\nvar _Box = _interopRequireWildcard(__webpack_require__(/*! ../../../Styled/Box */ \"./lib/Styled/Box.tsx\"));\nvar _Button = _interopRequireWildcard(__webpack_require__(/*! ../../../Styled/Button */ \"./lib/Styled/Button.tsx\"));\nvar _Select = _interopRequireDefault(__webpack_require__(/*! ../../../Styled/Select */ \"./lib/Styled/Select.tsx\"));\nvar _Spacing = _interopRequireDefault(__webpack_require__(/*! ../../../Styled/Spacing */ \"./lib/Styled/Spacing.tsx\"));\nvar _Text = _interopRequireWildcard(__webpack_require__(/*! ../../../Styled/Text */ \"./lib/Styled/Text.tsx\"));\nvar _ImageryProviderTraits = _interopRequireDefault(__webpack_require__(/*! ../../../Traits/TraitsClasses/ImageryProviderTraits */ \"./lib/Traits/TraitsClasses/ImageryProviderTraits.ts\"));\nvar _parseCustomMarkdownToReact = __webpack_require__(/*! ../../Custom/parseCustomMarkdownToReact */ \"./lib/ReactViews/Custom/parseCustomMarkdownToReact.ts\");\nvar _Icon = __webpack_require__(/*! ../../../Styled/Icon */ \"./lib/Styled/Icon.tsx\");\nvar _Loader = _interopRequireDefault(__webpack_require__(/*! ../../Loader */ \"./lib/ReactViews/Loader.tsx\"));\nvar _DatePicker = _interopRequireDefault(__webpack_require__(/*! ./DatePicker */ \"./lib/ReactViews/Tools/DiffTool/DatePicker.tsx\"));\nvar _LocationPicker = _interopRequireDefault(__webpack_require__(/*! ./LocationPicker */ \"./lib/ReactViews/Tools/DiffTool/LocationPicker.tsx\"));\nvar _registerMapNavigations = __webpack_require__(/*! ../../Map/MapNavigation/registerMapNavigations */ \"./lib/ReactViews/Map/MapNavigation/registerMapNavigations.tsx\");\nvar _dec, _class, _class2, _descriptor, _descriptor2, _descriptor3, _DiffTool, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _class3, _class4, _descriptor4, _descriptor5, _descriptor6;\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\nvar dateFormat = __webpack_require__(/*! dateformat */ \"../../../node_modules/dateformat/lib/dateformat.js\");\nvar DiffTool = (_dec = _mobx.action.bound, (0, _mobxReact.observer)(_class = (_class2 = (_DiffTool = /*#__PURE__*/function (_React$Component) {\n  _inherits(DiffTool, _React$Component);\n  function DiffTool(props) {\n    var _this;\n    _classCallCheck(this, DiffTool);\n    _this = _callSuper(this, DiffTool, [props]);\n    _initializerDefineProperty(_assertThisInitialized(_this), \"leftItem\", _descriptor, _assertThisInitialized(_this));\n    _initializerDefineProperty(_assertThisInitialized(_this), \"rightItem\", _descriptor2, _assertThisInitialized(_this));\n    _initializerDefineProperty(_assertThisInitialized(_this), \"userSelectedSourceItem\", _descriptor3, _assertThisInitialized(_this));\n    _defineProperty(_assertThisInitialized(_this), \"splitterItemsDisposer\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"originalSettings\", void 0);\n    (0, _mobx.makeObservable)(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(DiffTool, [{\n    key: \"sourceItem\",\n    get: function get() {\n      return this.userSelectedSourceItem || this.props.sourceItem;\n    }\n  }, {\n    key: \"changeSourceItem\",\n    value: function changeSourceItem(sourceItem) {\n      this.userSelectedSourceItem = sourceItem;\n    }\n  }, {\n    key: \"createSplitterItems\",\n    value: function () {\n      var _createSplitterItems = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _this2 = this;\n        var _yield$Promise$all, _yield$Promise$all2, leftItem, rightItem;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return Promise.all([createSplitItem(this.sourceItem, _SplitDirection[\"default\"].LEFT), createSplitItem(this.sourceItem, _SplitDirection[\"default\"].RIGHT)]);\n            case 3:\n              _yield$Promise$all = _context.sent;\n              _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 2);\n              leftItem = _yield$Promise$all2[0];\n              rightItem = _yield$Promise$all2[1];\n              (0, _mobx.runInAction)(function () {\n                _this2.leftItem = leftItem;\n                _this2.rightItem = rightItem;\n              });\n              _context.next = 12;\n              break;\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this, [[0, 10]]);\n      }));\n      function createSplitterItems() {\n        return _createSplitterItems.apply(this, arguments);\n      }\n      return createSplitterItems;\n    }()\n  }, {\n    key: \"removeSplitterItems\",\n    value: function removeSplitterItems() {\n      this.leftItem && removeSplitItem(this.leftItem);\n      this.rightItem && removeSplitItem(this.rightItem);\n    }\n  }, {\n    key: \"enterDiffTool\",\n    value: function enterDiffTool() {\n      var _this3 = this;\n      // Start the reaction that splits the sourceItem into left & right items\n      this.splitterItemsDisposer = (0, _mobx.reaction)(function () {\n        return _this3.sourceItem;\n      }, function () {\n        _this3.removeSplitterItems();\n        _this3.createSplitterItems();\n      }, {\n        fireImmediately: true\n      });\n      var viewState = this.props.viewState;\n      var terria = viewState.terria;\n      this.originalSettings = {\n        showSplitter: terria.showSplitter,\n        isMapFullScreen: viewState.isMapFullScreen\n      };\n      terria.showSplitter = true;\n      viewState.setIsMapFullScreen(true);\n      this.sourceItem.setTrait(_CommonStrata[\"default\"].user, \"show\", false);\n      terria.mapNavigationModel.show(_registerMapNavigations.CLOSE_TOOL_ID);\n      terria.elements.set(\"timeline\", {\n        visible: false\n      });\n      var closeTool = terria.mapNavigationModel.findItem(_registerMapNavigations.CLOSE_TOOL_ID);\n      if (closeTool) {\n        closeTool.controller.activate();\n      }\n    }\n  }, {\n    key: \"leaveDiffTool\",\n    value: function leaveDiffTool() {\n      var _this$splitterItemsDi;\n      var viewState = this.props.viewState;\n      var terria = viewState.terria;\n      var originalSettings = this.originalSettings;\n      this.removeSplitterItems();\n      (_this$splitterItemsDi = this.splitterItemsDisposer) === null || _this$splitterItemsDi === void 0 || _this$splitterItemsDi.call(this);\n      terria.showSplitter = originalSettings.showSplitter;\n      viewState.setIsMapFullScreen(originalSettings.isMapFullScreen);\n      this.sourceItem.setTrait(_CommonStrata[\"default\"].user, \"show\", true);\n      terria.mapNavigationModel.hide(_registerMapNavigations.CLOSE_TOOL_ID);\n      terria.elements.set(\"timeline\", {\n        visible: true\n      });\n      var closeTool = terria.mapNavigationModel.findItem(_registerMapNavigations.CLOSE_TOOL_ID);\n      if (closeTool) {\n        closeTool.controller.deactivate();\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.enterDiffTool();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.leaveDiffTool();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.leftItem && this.rightItem) {\n        return /*#__PURE__*/_react[\"default\"].createElement(Main, _extends({}, this.props, {\n          theme: this.props.theme,\n          terria: this.props.viewState.terria,\n          sourceItem: this.sourceItem,\n          changeSourceItem: this.changeSourceItem,\n          leftItem: this.leftItem,\n          rightItem: this.rightItem\n        }));\n      } else return null;\n    }\n  }]);\n  return DiffTool;\n}(_react[\"default\"].Component), _defineProperty(_DiffTool, \"toolName\", \"Image Difference\"), _DiffTool), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"leftItem\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"rightItem\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, \"userSelectedSourceItem\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _applyDecoratedDescriptor(_class2.prototype, \"sourceItem\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class2.prototype, \"sourceItem\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"changeSourceItem\", [_dec], Object.getOwnPropertyDescriptor(_class2.prototype, \"changeSourceItem\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"createSplitterItems\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"createSplitterItems\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"removeSplitterItems\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"removeSplitterItems\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"enterDiffTool\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"enterDiffTool\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"leaveDiffTool\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"leaveDiffTool\"), _class2.prototype)), _class2)) || _class);\nvar Main = (_dec2 = _mobx.action.bound, _dec3 = _mobx.action.bound, _dec4 = _mobx.action.bound, _dec5 = _mobx.action.bound, _dec6 = _mobx.action.bound, _dec7 = _mobx.action.bound, _dec8 = _mobx.action.bound, _dec9 = _mobx.action.bound, (0, _mobxReact.observer)(_class3 = (_class4 = /*#__PURE__*/function (_React$Component2) {\n  _inherits(Main, _React$Component2);\n  function Main(props) {\n    var _this4;\n    _classCallCheck(this, Main);\n    _this4 = _callSuper(this, Main, [props]);\n    _initializerDefineProperty(_assertThisInitialized(_this4), \"location\", _descriptor4, _assertThisInitialized(_this4));\n    _initializerDefineProperty(_assertThisInitialized(_this4), \"_locationPickError\", _descriptor5, _assertThisInitialized(_this4));\n    _initializerDefineProperty(_assertThisInitialized(_this4), \"_isPickingNewLocation\", _descriptor6, _assertThisInitialized(_this4));\n    _defineProperty(_assertThisInitialized(_this4), \"openLeftDatePickerButton\", /*#__PURE__*/_react[\"default\"].createRef());\n    _defineProperty(_assertThisInitialized(_this4), \"openRightDatePickerButton\", /*#__PURE__*/_react[\"default\"].createRef());\n    (0, _mobx.makeObservable)(_assertThisInitialized(_this4));\n    return _this4;\n  }\n  _createClass(Main, [{\n    key: \"locationPickerMessages\",\n    get: function get() {\n      var t = this.props.t;\n      if (this._locationPickError) {\n        return {\n          title: t(\"diffTool.locationPicker.errorMessages.title\"),\n          beforePick: t(\"diffTool.locationPicker.errorMessages.beforePick\"),\n          afterPick: t(\"diffTool.locationPicker.errorMessages.afterPick\")\n        };\n      } else if (this.location) {\n        return {\n          title: t(\"diffTool.locationPicker.nextMessages.title\", (0, _prettifyCoordinates2[\"default\"])(this.location.longitude, this.location.latitude, {\n            digits: 2\n          })),\n          beforePick: t(\"diffTool.locationPicker.nextMessages.beforePick\"),\n          afterPick: t(\"diffTool.locationPicker.nextMessages.afterPick\")\n        };\n      } else {\n        return {\n          title: t(\"diffTool.locationPicker.initialMessages.title\"),\n          beforePick: t(\"diffTool.locationPicker.initialMessages.beforePick\"),\n          afterPick: t(\"diffTool.locationPicker.initialMessages.afterPick\")\n        };\n      }\n    }\n  }, {\n    key: \"diffItem\",\n    get: function get() {\n      return this.props.leftItem;\n    }\n  }, {\n    key: \"diffItemName\",\n    get: function get() {\n      var name = this.props.sourceItem.name || \"\";\n      var firstDate = this.leftDate;\n      var secondDate = this.rightDate;\n      var format = \"yyyy/mm/dd\";\n      if (!firstDate || !secondDate) {\n        return name;\n      } else {\n        var d1 = dateFormat(firstDate, format);\n        var d2 = dateFormat(secondDate, format);\n        return \"\".concat(name, \" - difference for dates \").concat(d1, \", \").concat(d2);\n      }\n    }\n  }, {\n    key: \"diffableItemsInWorkbench\",\n    get: function get() {\n      return this.props.terria.workbench.items.filter(function (item) {\n        return _DiffableMixin[\"default\"].isMixedInto(item) && item.canDiffImages;\n      });\n    }\n  }, {\n    key: \"previewStyle\",\n    get: function get() {\n      var _this$diffItem$styleS;\n      return (_this$diffItem$styleS = this.diffItem.styleSelectableDimensions) === null || _this$diffItem$styleS === void 0 || (_this$diffItem$styleS = _this$diffItem$styleS[0]) === null || _this$diffItem$styleS === void 0 ? void 0 : _this$diffItem$styleS.selectedId;\n    }\n  }, {\n    key: \"diffStyle\",\n    get: function get() {\n      return this.diffItem.diffStyleId;\n    }\n  }, {\n    key: \"availableDiffStyles\",\n    get: function get() {\n      var _this5 = this;\n      return (0, _filterOutUndefined[\"default\"])(this.diffItem.availableDiffStyles.map(function (diffStyleId) {\n        var _this5$diffItem$style;\n        return (_this5$diffItem$style = _this5.diffItem.styleSelectableDimensions) === null || _this5$diffItem$style === void 0 || (_this5$diffItem$style = _this5$diffItem$style[0]) === null || _this5$diffItem$style === void 0 || (_this5$diffItem$style = _this5$diffItem$style.options) === null || _this5$diffItem$style === void 0 ? void 0 : _this5$diffItem$style.find(function (style) {\n          return style.id === diffStyleId;\n        });\n      }));\n    }\n  }, {\n    key: \"leftDate\",\n    get: function get() {\n      return this.props.leftItem.currentDiscreteJulianDate;\n    }\n  }, {\n    key: \"rightDate\",\n    get: function get() {\n      return this.props.rightItem.currentDiscreteJulianDate;\n    }\n  }, {\n    key: \"diffLegendUrl\",\n    get: function get() {\n      return this.diffStyle && this.leftDate && this.rightDate && this.diffItem.getLegendUrlForStyle(this.diffStyle, this.leftDate, this.rightDate);\n    }\n  }, {\n    key: \"previewLegendUrl\",\n    get: function get() {\n      return this.previewStyle && this.diffItem.getLegendUrlForStyle(this.previewStyle);\n    }\n  }, {\n    key: \"showItem\",\n    value: function showItem(model) {\n      // We change the opacity instead of setting `show` to true/false, because\n      // we want the item to be on the map for date selection to work\n      hasOpacity(model) && model.setTrait(_CommonStrata[\"default\"].user, \"opacity\", 0.8);\n    }\n  }, {\n    key: \"hideItem\",\n    value: function hideItem(model) {\n      // We change the opacity instead of setting `show` to true/false, because\n      // we want the item to be on the map for date selection to work\n      hasOpacity(model) && model.setTrait(_CommonStrata[\"default\"].user, \"opacity\", 0);\n    }\n  }, {\n    key: \"changeSourceItem\",\n    value: function changeSourceItem(e) {\n      var newSourceItem = this.diffableItemsInWorkbench.find(function (item) {\n        return item.uniqueId === e.target.value;\n      });\n      if (newSourceItem) this.props.changeSourceItem(newSourceItem);\n    }\n  }, {\n    key: \"changePreviewStyle\",\n    value: function changePreviewStyle(e) {\n      var _this$props$leftItem$, _this$props$rightItem;\n      var styleId = e.target.value;\n      (_this$props$leftItem$ = this.props.leftItem.styleSelectableDimensions) === null || _this$props$leftItem$ === void 0 || (_this$props$leftItem$ = _this$props$leftItem$[0]) === null || _this$props$leftItem$ === void 0 || _this$props$leftItem$.setDimensionValue(_CommonStrata[\"default\"].user, styleId);\n      (_this$props$rightItem = this.props.rightItem.styleSelectableDimensions) === null || _this$props$rightItem === void 0 || (_this$props$rightItem = _this$props$rightItem[0]) === null || _this$props$rightItem === void 0 || _this$props$rightItem.setDimensionValue(_CommonStrata[\"default\"].user, styleId);\n    }\n  }, {\n    key: \"changeDiffStyle\",\n    value: function changeDiffStyle(e) {\n      this.diffItem.setTrait(_CommonStrata[\"default\"].user, \"diffStyleId\", e.target.value);\n    }\n  }, {\n    key: \"onUserPickingLocation\",\n    value: function onUserPickingLocation(pickingLocation) {\n      this._isPickingNewLocation = true;\n    }\n  }, {\n    key: \"onUserPickLocation\",\n    value: function onUserPickLocation(pickedFeatures, pickedLocation) {\n      var _this$props = this.props,\n        leftItem = _this$props.leftItem,\n        rightItem = _this$props.rightItem,\n        t = _this$props.t;\n      var feature = pickedFeatures.features.find(function (f) {\n        return doesFeatureBelongToItem(f, leftItem) || doesFeatureBelongToItem(f, rightItem);\n      });\n      if (feature) {\n        leftItem.setTimeFilterFeature(feature, pickedFeatures.providerCoords);\n        rightItem.setTimeFilterFeature(feature, pickedFeatures.providerCoords);\n        this.location = pickedLocation;\n        this._locationPickError = false;\n      } else {\n        this._locationPickError = true;\n      }\n      this._isPickingNewLocation = false;\n    }\n  }, {\n    key: \"unsetDates\",\n    value: function unsetDates() {\n      var _this$props2 = this.props,\n        leftItem = _this$props2.leftItem,\n        rightItem = _this$props2.rightItem;\n      leftItem.setTrait(_CommonStrata[\"default\"].user, \"currentTime\", null);\n      rightItem.setTrait(_CommonStrata[\"default\"].user, \"currentTime\", null);\n      this.hideItem(leftItem);\n      this.hideItem(rightItem);\n    }\n  }, {\n    key: \"generateDiff\",\n    value: function generateDiff() {\n      if (this.leftDate === undefined || this.rightDate === undefined || this.diffStyle === undefined) {\n        return;\n      }\n      var terria = this.props.terria;\n      terria.overlays.remove(this.props.leftItem);\n      terria.overlays.remove(this.props.rightItem);\n      terria.workbench.add(this.diffItem);\n      this.diffItem.setTrait(_CommonStrata[\"default\"].user, \"name\", this.diffItemName);\n      this.diffItem.showDiffImage(this.leftDate, this.rightDate, this.diffStyle);\n      terria.showSplitter = false;\n    }\n  }, {\n    key: \"resetTool\",\n    value: function resetTool() {\n      var terria = this.props.terria;\n      this.diffItem.clearDiffImage();\n      setDefaultDiffStyle(this.diffItem);\n      terria.overlays.add(this.props.leftItem);\n      terria.overlays.add(this.props.rightItem);\n      terria.workbench.remove(this.diffItem);\n      this.props.terria.showSplitter = true;\n      this.props.leftItem.setTrait(_CommonStrata[\"default\"].user, \"splitDirection\", _SplitDirection[\"default\"].LEFT);\n      this.props.rightItem.setTrait(_CommonStrata[\"default\"].user, \"splitDirection\", _SplitDirection[\"default\"].RIGHT);\n    }\n  }, {\n    key: \"setLocationFromActiveSearch\",\n    value: function () {\n      var _setLocationFromActiveSearch = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var _this6 = this;\n        var markerLocation, sourceItem, part, imageryProvider, promises, someSuccessful;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              // Look for any existing marker like from a search result and filter\n              // imagery at that location\n              markerLocation = (0, _LocationMarkerUtils.getMarkerLocation)(this.props.terria);\n              sourceItem = this.props.sourceItem;\n              if (!(markerLocation && _MappableMixin[\"default\"].isMixedInto(sourceItem))) {\n                _context2.next = 11;\n                break;\n              }\n              part = sourceItem.mapItems.find(function (p) {\n                return _MappableMixin.ImageryParts.is(p);\n              });\n              imageryProvider = part && _MappableMixin.ImageryParts.is(part) && part.imageryProvider;\n              if (!imageryProvider) {\n                _context2.next = 11;\n                break;\n              }\n              promises = [setTimeFilterFromLocation(this.props.leftItem, markerLocation, imageryProvider), setTimeFilterFromLocation(this.props.rightItem, markerLocation, imageryProvider)];\n              _context2.next = 9;\n              return Promise.all(promises);\n            case 9:\n              someSuccessful = _context2.sent.some(function (ok) {\n                return ok;\n              });\n              if (someSuccessful) {\n                (0, _mobx.runInAction)(function () {\n                  return _this6.location = markerLocation;\n                });\n              } else {\n                // If we cannot resolve imagery at the marker location, remove it\n                (0, _LocationMarkerUtils.removeMarker)(this.props.terria);\n              }\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function setLocationFromActiveSearch() {\n        return _setLocationFromActiveSearch.apply(this, arguments);\n      }\n      return setLocationFromActiveSearch;\n    }()\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this7 = this;\n      (0, _mobx.runInAction)(function () {\n        if (_this7.location === undefined) {\n          var _this7$diffItem$timeF = _this7.diffItem.timeFilterCoordinates,\n            latitude = _this7$diffItem$timeF.latitude,\n            longitude = _this7$diffItem$timeF.longitude,\n            height = _this7$diffItem$timeF.height;\n          if (latitude !== undefined && longitude !== undefined) {\n            _this7.location = {\n              latitude: latitude,\n              longitude: longitude,\n              height: height\n            };\n            // remove any active search location marker to avoid showing two markers\n            (0, _LocationMarkerUtils.removeMarker)(_this7.props.terria);\n          } else {\n            _this7.setLocationFromActiveSearch();\n          }\n        }\n      });\n    }\n\n    // i want to restructure the render so that there's 2 distinct \"showing diff\"\n    // or not states, right now intertwining them means way too many conditionals\n    // that confuse the required spacing etc.\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$diffItem$styleS2,\n        _this8 = this;\n      var _this$props3 = this.props,\n        terria = _this$props3.terria,\n        viewState = _this$props3.viewState,\n        sourceItem = _this$props3.sourceItem,\n        t = _this$props3.t,\n        theme = _this$props3.theme;\n      var isShowingDiff = this.diffItem.isShowingDiff;\n      var datesSelected = this.leftDate && this.rightDate;\n      var isReadyToGenerateDiff = this.location && datesSelected && this.diffStyle !== undefined;\n      return /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], {\n        large: true\n      }, /*#__PURE__*/_react[\"default\"].createElement(DiffAccordion, {\n        viewState: viewState,\n        t: t\n      }, /*#__PURE__*/_react[\"default\"].createElement(MainPanel, {\n        isMapFullScreen: viewState.isMapFullScreen,\n        styledMaxHeight: \"calc(100vh - \".concat(viewState.bottomDockHeight, \"px - 150px)\")\n      }, isShowingDiff && /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(_Box[\"default\"], {\n        centered: true,\n        left: true\n      }, /*#__PURE__*/_react[\"default\"].createElement(_StyledBackButton, {\n        transparentBg: true,\n        onClick: this.resetTool,\n        $_css: theme.textLight,\n        $_css2: theme.textLight\n      }, /*#__PURE__*/_react[\"default\"].createElement(_Box.BoxSpan, {\n        centered: true\n      }, /*#__PURE__*/_react[\"default\"].createElement(_StyledStyledIcon, {\n        light: true,\n        styledWidth: \"16px\",\n        glyph: _Icon.GLYPHS.arrowDown\n      }), /*#__PURE__*/_react[\"default\"].createElement(_Text.TextSpan, {\n        noFontSize: true\n      }, t(\"general.back\"))))), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 3\n      }), /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], {\n        medium: true,\n        textLight: true\n      }, t(\"diffTool.differenceResultsTitle\")), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 2\n      })), /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], {\n        textLight: true\n      }, t(\"diffTool.instructions.paneDescription\")), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 3\n      }), /*#__PURE__*/_react[\"default\"].createElement(LocationAndDatesDisplayBox, null, /*#__PURE__*/_react[\"default\"].createElement(_Box[\"default\"], null, /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], {\n        medium: true\n      }, t(\"diffTool.labels.area\"), \":\"), /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], {\n        medium: true,\n        textLightDimmed: !this.location\n      }, this.location ? t(\"diffTool.locationDisplay.locationSelected.title\") : t(\"diffTool.locationDisplay.noLocationSelected.title\")), /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], {\n        light: true,\n        textLight: true,\n        small: true\n      }, this.location ? t(\"diffTool.locationDisplay.locationSelected.description\") : t(\"diffTool.locationDisplay.noLocationSelected.description\")))), /*#__PURE__*/_react[\"default\"].createElement(_Box[\"default\"], null, /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], {\n        medium: true\n      }, t(\"diffTool.labels.dates\"), \":\"), /*#__PURE__*/_react[\"default\"].createElement(_Box[\"default\"], {\n        column: true,\n        alignItemsFlexStart: true\n      }, this.leftDate && /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], {\n        large: true\n      }, \"(A) \", dateFormat(this.leftDate, \"dd/mm/yyyy\")), !this.leftDate && /*#__PURE__*/_react[\"default\"].createElement(_Button.RawButton, {\n        ref: this.openLeftDatePickerButton\n      }, /*#__PURE__*/_react[\"default\"].createElement(_Text.TextSpan, {\n        isLink: true,\n        small: true\n      }, t(\"diffTool.instructions.setDateA\"))), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 1\n      }), this.rightDate && /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], {\n        large: true\n      }, \"(B) \", dateFormat(this.rightDate, \"dd/mm/yyyy\")), !this.rightDate && /*#__PURE__*/_react[\"default\"].createElement(_Button.RawButton, {\n        ref: this.openRightDatePickerButton\n      }, /*#__PURE__*/_react[\"default\"].createElement(_Text.TextSpan, {\n        isLink: true,\n        small: true\n      }, t(\"diffTool.instructions.setDateB\"))), isShowingDiff === false && this.leftDate && this.rightDate && /*#__PURE__*/_react[\"default\"].createElement(_Button.RawButton, {\n        onClick: this.unsetDates\n      }, /*#__PURE__*/_react[\"default\"].createElement(_Text.TextSpan, {\n        isLink: true,\n        small: true\n      }, t(\"diffTool.instructions.changeDates\")))))), !isShowingDiff && /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 4\n      }), /*#__PURE__*/_react[\"default\"].createElement(Selector, {\n        viewState: viewState,\n        value: sourceItem.uniqueId,\n        onChange: this.changeSourceItem,\n        label: t(\"diffTool.labels.sourceDataset\")\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"option\", {\n        disabled: true\n      }, \"Select source item\"), this.diffableItemsInWorkbench.map(function (item) {\n        return /*#__PURE__*/_react[\"default\"].createElement(\"option\", {\n          key: item.uniqueId,\n          value: item.uniqueId\n        }, item.name);\n      }))), !isShowingDiff && /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 4\n      }), /*#__PURE__*/_react[\"default\"].createElement(Selector, {\n        viewState: viewState,\n        spacingBottom: true,\n        value: this.previewStyle,\n        onChange: this.changePreviewStyle,\n        label: t(\"diffTool.labels.previewStyle\")\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"option\", {\n        disabled: true,\n        value: \"\"\n      }, t(\"diffTool.choosePreview\")), (_this$diffItem$styleS2 = this.diffItem.styleSelectableDimensions) === null || _this$diffItem$styleS2 === void 0 || (_this$diffItem$styleS2 = _this$diffItem$styleS2[0]) === null || _this$diffItem$styleS2 === void 0 || (_this$diffItem$styleS2 = _this$diffItem$styleS2.options) === null || _this$diffItem$styleS2 === void 0 ? void 0 : _this$diffItem$styleS2.map(function (style) {\n        return /*#__PURE__*/_react[\"default\"].createElement(\"option\", {\n          key: style.id,\n          value: style.id\n        }, style.name);\n      })), this.previewLegendUrl && /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 2\n      }), /*#__PURE__*/_react[\"default\"].createElement(LegendImage, {\n        width: \"100%\",\n        src: this.previewLegendUrl\n      }))), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 2\n      }), /*#__PURE__*/_react[\"default\"].createElement(Selector, {\n        viewState: viewState,\n        value: this.diffStyle || \"\",\n        onChange: this.changeDiffStyle,\n        label: t(\"diffTool.labels.differenceOutput\")\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"option\", {\n        disabled: true,\n        value: \"\"\n      }, t(\"diffTool.chooseDifference\")), this.availableDiffStyles.map(function (style) {\n        return /*#__PURE__*/_react[\"default\"].createElement(\"option\", {\n          key: style.id,\n          value: style.id\n        }, style.name);\n      })), isShowingDiff && this.diffLegendUrl && /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(LegendImage, {\n        width: \"100%\",\n        src: this.diffLegendUrl\n      }), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 4\n      })), !isShowingDiff && /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 4\n      }), /*#__PURE__*/_react[\"default\"].createElement(GenerateButton, {\n        onClick: this.generateDiff,\n        disabled: !isReadyToGenerateDiff,\n        \"aria-describedby\": \"TJSDifferenceDisabledButtonPrompt\"\n      }, /*#__PURE__*/_react[\"default\"].createElement(_Text.TextSpan, {\n        large: true\n      }, t(\"diffTool.labels.generateDiffButtonText\"))), !isReadyToGenerateDiff && /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 3\n      }), /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], {\n        small: true,\n        light: true,\n        textLight: true,\n        id: \"TJSDifferenceDisabledButtonPrompt\"\n      }, t(\"diffTool.labels.disabledButtonPrompt\")), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n        bottom: 4\n      }))))), isShowingDiff && /*#__PURE__*/_react[\"default\"].createElement(CloseDifferenceButton, {\n        primary: true,\n        rounded: true,\n        textProps: {\n          semiBold: true,\n          extraLarge: true\n        },\n        theme: theme,\n        activeStyles: true,\n        onClick: this.resetTool,\n        renderIcon: function renderIcon() {\n          return /*#__PURE__*/_react[\"default\"].createElement(_Icon.StyledIcon, {\n            light: true,\n            styledWidth: \"13px\",\n            glyph: _Icon.GLYPHS.closeLight\n          });\n        },\n        iconProps: {\n          css: \"margin-right: 10px;\"\n        }\n      }, \"Close\"), !isShowingDiff && /*#__PURE__*/_react[\"default\"].createElement(_LocationPicker[\"default\"], {\n        terria: terria,\n        location: this.location,\n        onPicking: this.onUserPickingLocation,\n        onPicked: this.onUserPickLocation\n      }), !isShowingDiff && /*#__PURE__*/_reactDom[\"default\"].createPortal(\n      /*#__PURE__*/\n      // Bottom Panel\n      _react[\"default\"].createElement(_Box[\"default\"], {\n        centered: true,\n        fullWidth: true,\n        flexWrap: true,\n        backgroundColor: theme.dark\n      }, /*#__PURE__*/_react[\"default\"].createElement(_DatePicker[\"default\"], {\n        heading: t(\"diffTool.labels.dateComparisonA\"),\n        item: this.props.leftItem,\n        externalOpenButton: this.openLeftDatePickerButton,\n        onDateSet: function onDateSet() {\n          return _this8.showItem(_this8.props.leftItem);\n        }\n      }), /*#__PURE__*/_react[\"default\"].createElement(AreaFilterSelection, {\n        t: t,\n        location: this.location,\n        isPickingNewLocation: this._isPickingNewLocation\n      }), /*#__PURE__*/_react[\"default\"].createElement(_DatePicker[\"default\"], {\n        heading: t(\"diffTool.labels.dateComparisonB\"),\n        item: this.props.rightItem,\n        externalOpenButton: this.openRightDatePickerButton,\n        onDateSet: function onDateSet() {\n          return _this8.showItem(_this8.props.rightItem);\n        }\n      })), document.getElementById(\"TJS-BottomDockLastPortal\")));\n    }\n  }]);\n  return Main;\n}(_react[\"default\"].Component), (_descriptor4 = _applyDecoratedDescriptor(_class4.prototype, \"location\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor5 = _applyDecoratedDescriptor(_class4.prototype, \"_locationPickError\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor6 = _applyDecoratedDescriptor(_class4.prototype, \"_isPickingNewLocation\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _applyDecoratedDescriptor(_class4.prototype, \"locationPickerMessages\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class4.prototype, \"locationPickerMessages\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"diffItem\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class4.prototype, \"diffItem\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"diffItemName\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class4.prototype, \"diffItemName\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"diffableItemsInWorkbench\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class4.prototype, \"diffableItemsInWorkbench\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"previewStyle\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class4.prototype, \"previewStyle\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"diffStyle\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class4.prototype, \"diffStyle\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"availableDiffStyles\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class4.prototype, \"availableDiffStyles\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"leftDate\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class4.prototype, \"leftDate\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"rightDate\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class4.prototype, \"rightDate\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"diffLegendUrl\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class4.prototype, \"diffLegendUrl\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"previewLegendUrl\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class4.prototype, \"previewLegendUrl\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"showItem\", [_mobx.action], Object.getOwnPropertyDescriptor(_class4.prototype, \"showItem\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"hideItem\", [_mobx.action], Object.getOwnPropertyDescriptor(_class4.prototype, \"hideItem\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"changeSourceItem\", [_dec2], Object.getOwnPropertyDescriptor(_class4.prototype, \"changeSourceItem\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"changePreviewStyle\", [_dec3], Object.getOwnPropertyDescriptor(_class4.prototype, \"changePreviewStyle\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"changeDiffStyle\", [_dec4], Object.getOwnPropertyDescriptor(_class4.prototype, \"changeDiffStyle\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"onUserPickingLocation\", [_dec5], Object.getOwnPropertyDescriptor(_class4.prototype, \"onUserPickingLocation\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"onUserPickLocation\", [_dec6], Object.getOwnPropertyDescriptor(_class4.prototype, \"onUserPickLocation\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"unsetDates\", [_dec7], Object.getOwnPropertyDescriptor(_class4.prototype, \"unsetDates\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"generateDiff\", [_dec8], Object.getOwnPropertyDescriptor(_class4.prototype, \"generateDiff\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"resetTool\", [_dec9], Object.getOwnPropertyDescriptor(_class4.prototype, \"resetTool\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"setLocationFromActiveSearch\", [_mobx.action], Object.getOwnPropertyDescriptor(_class4.prototype, \"setLocationFromActiveSearch\"), _class4.prototype)), _class4)) || _class3);\nvar DiffAccordionToggle = (0, _styledComponents[\"default\"])(_Box[\"default\"]).withConfig({\n  displayName: \"DiffTool__DiffAccordionToggle\",\n  componentId: \"sc-f0lifz-0\"\n})([\"\", \"\"], function (_ref) {\n  var theme = _ref.theme;\n  return theme.borderRadiusTop(theme.radius40Button);\n});\nvar DiffAccordion = function DiffAccordion(props) {\n  var _useState = (0, _react.useState)(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    showChildren = _useState2[0],\n    setShowChildren = _useState2[1];\n  var t = props.t,\n    viewState = props.viewState;\n  var theme = (0, _styledComponents.useTheme)();\n  return /*#__PURE__*/_react[\"default\"].createElement(DiffAccordionWrapper, {\n    isMapFullScreen: viewState.isMapFullScreen,\n    column: true\n  }, /*#__PURE__*/_react[\"default\"].createElement(DiffAccordionToggle, {\n    paddedVertically: true,\n    paddedHorizontally: 2,\n    centered: true,\n    justifySpaceBetween: true,\n    backgroundColor: theme.colorSecondary\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Box[\"default\"], {\n    centered: true\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Icon.StyledIcon, {\n    styledWidth: \"20px\",\n    light: true,\n    glyph: _Icon.GLYPHS.difference\n  }), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n    right: 1\n  }), /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], {\n    textLight: true,\n    semiBold: true\n    // font-size is non standard with what we have so far in terria,\n    // lineheight as well to hit nonstandard paddings\n    ,\n    styledFontSize: \"17px\",\n    styledLineHeight: \"30px\"\n  }, t(\"diffTool.title\"))), /*#__PURE__*/_react[\"default\"].createElement(_StyledBox, {\n    centered: true,\n    $_css3: \"margin-right:-5px;\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Button.RawButton, {\n    onClick: function onClick() {\n      return viewState.closeTool();\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Text.TextSpan, {\n    textLight: true,\n    small: true,\n    semiBold: true,\n    uppercase: true\n  }, t(\"diffTool.exit\"))), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n    right: 4\n  }), /*#__PURE__*/_react[\"default\"].createElement(_Button.RawButton, {\n    onClick: function onClick() {\n      return setShowChildren(!showChildren);\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Box.BoxSpan, {\n    paddedRatio: 1,\n    centered: true\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Icon.StyledIcon, {\n    styledWidth: \"12px\",\n    light: true,\n    glyph: showChildren ? _Icon.GLYPHS.opened : _Icon.GLYPHS.closed\n  }))))), showChildren && props.children);\n};\nvar DiffAccordionWrapper = (0, _styledComponents[\"default\"])(_Box[\"default\"]).attrs({\n  column: true,\n  position: \"absolute\",\n  styledWidth: \"340px\"\n  // charcoalGreyBg: true\n}).withConfig({\n  displayName: \"DiffTool__DiffAccordionWrapper\",\n  componentId: \"sc-f0lifz-1\"\n})([\"top:70px;left:0px;min-height:220px;margin-left:\", \"px;transition:margin-left 0.25s;\"], function (props) {\n  return props.isMapFullScreen ? 16 : parseInt(props.theme.workbenchWidth) + 40;\n});\nvar MainPanel = (0, _styledComponents[\"default\"])(_Box[\"default\"]).attrs({\n  column: true,\n  overflowY: \"auto\",\n  paddedRatio: 2\n}).withConfig({\n  displayName: \"DiffTool__MainPanel\",\n  componentId: \"sc-f0lifz-2\"\n})([\"\", \" background-color:\", \";\"], function (_ref2) {\n  var theme = _ref2.theme;\n  return theme.borderRadiusBottom(theme.radius40Button);\n}, function (p) {\n  return p.theme.darkWithOverlay;\n});\nvar BackButton = (0, _styledComponents[\"default\"])(_Button[\"default\"]).attrs({\n  secondary: true\n}).withConfig({\n  displayName: \"DiffTool__BackButton\",\n  componentId: \"sc-f0lifz-3\"\n})([\"\"]);\nvar _StyledBackButton = (0, _styledComponents[\"default\"])(BackButton).withConfig({\n  displayName: \"DiffTool___StyledBackButton\",\n  componentId: \"sc-f0lifz-4\"\n})([\"color:\", \";border-color:\", \";\"], function (p) {\n  return p.$_css;\n}, function (p) {\n  return p.$_css2;\n});\nvar CloseDifferenceButton = (0, _styledComponents[\"default\"])(_Button[\"default\"]).withConfig({\n  displayName: \"DiffTool__CloseDifferenceButton\",\n  componentId: \"sc-f0lifz-5\"\n})([\"position:absolute;left:50%;transform:translateX(-50%);top:18px;padding:0 20px;\"]);\nvar GenerateButton = (0, _styledComponents[\"default\"])(_Button[\"default\"]).attrs({\n  primary: true,\n  splitter: true,\n  fullWidth: true\n}).withConfig({\n  displayName: \"DiffTool__GenerateButton\",\n  componentId: \"sc-f0lifz-6\"\n})([\"\"]);\nvar Selector = function Selector(props) {\n  return /*#__PURE__*/_react[\"default\"].createElement(_Box[\"default\"], {\n    fullWidth: true,\n    column: true\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"label\", null, /*#__PURE__*/_react[\"default\"].createElement(_StyledText, {\n    textLight: true,\n    $_css4: \"p {margin: 0;}\"\n  }, (0, _parseCustomMarkdownToReact.parseCustomMarkdownToReactWithOptions)(\"\".concat(props.label, \":\"), {\n    injectTermsAsTooltips: true,\n    tooltipTerms: props.viewState.terria.configParameters.helpContentTerms\n  })), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n    bottom: 1\n  }), /*#__PURE__*/_react[\"default\"].createElement(_Select[\"default\"], props, props.children), props.spacingBottom && /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n    bottom: 2\n  })));\n};\nvar AreaFilterSelection = function AreaFilterSelection(props) {\n  var t = props.t,\n    location = props.location,\n    isPickingNewLocation = props.isPickingNewLocation;\n  var locationText = \"-\";\n  if (location) {\n    var _prettifyCoordinates = (0, _prettifyCoordinates2[\"default\"])(location.longitude, location.latitude, {\n        digits: 2\n      }),\n      longitude = _prettifyCoordinates.longitude,\n      latitude = _prettifyCoordinates.latitude;\n    locationText = \"\".concat(longitude, \" \").concat(latitude);\n  }\n  return /*#__PURE__*/_react[\"default\"].createElement(_StyledBox2, {\n    column: true,\n    centered: true,\n    styledMinWidth: \"230px\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Box[\"default\"], {\n    centered: true\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Icon.StyledIcon, {\n    light: true,\n    styledWidth: \"16px\",\n    glyph: _Icon.GLYPHS.location2\n  }), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n    right: 2\n  }), /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], {\n    textLight: true,\n    extraLarge: true\n  }, t(\"diffTool.labels.areaFilterSelection\"))), /*#__PURE__*/_react[\"default\"].createElement(_Spacing[\"default\"], {\n    bottom: 3\n  }), /*#__PURE__*/_react[\"default\"].createElement(_Box[\"default\"], {\n    styledMinHeight: \"40px\"\n  }, isPickingNewLocation ? /*#__PURE__*/_react[\"default\"].createElement(_StyledText2, {\n    textLight: true,\n    extraExtraLarge: true,\n    bold: true\n    // Using legacy Loader.jsx means we override at a higher level to inherit\n    // this fills tyle\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Loader[\"default\"], {\n    light: true,\n    message: \"Querying \".concat(location ? \"new\" : \"\", \" position...\")\n  })) : /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], {\n    textLight: true,\n    bold: true,\n    heading: true,\n    textAlignCenter: true\n  }, locationText)));\n};\nvar LocationAndDatesDisplayBox = (0, _styledComponents[\"default\"])(_Box[\"default\"]).attrs({\n  column: true,\n  charcoalGreyBg: true\n}).withConfig({\n  displayName: \"DiffTool__LocationAndDatesDisplayBox\",\n  componentId: \"sc-f0lifz-7\"\n})([\"color:\", \";padding:15px;> \", \":first-child{margin-bottom:13px;}> div > div:first-child{margin-right:5px;min-width:50px;}\"], function (p) {\n  return p.theme.textLight;\n}, _Box[\"default\"]);\nvar LegendImage = function LegendImage(props) {\n  return /*#__PURE__*/_react[\"default\"].createElement(\"img\", _extends({}, props, {\n    // Show the legend only if it loads successfully, so we start out hidden\n    style: {\n      display: \"none\",\n      marginTop: \"4px\"\n    }\n    // @ts-ignore\n    ,\n    onLoad: function onLoad(e) {\n      return e.target.style.display = \"block\";\n    }\n    // @ts-ignore\n    ,\n    onError: function onError(e) {\n      return e.target.style.display = \"none\";\n    }\n  }));\n};\nfunction createSplitItem(_x, _x2) {\n  return _createSplitItem.apply(this, arguments);\n}\n/**\r\n * If the item has only one available diff style, auto-select it\r\n */\nfunction _createSplitItem() {\n  _createSplitItem = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(sourceItem, splitDirection) {\n    var terria, ref;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          terria = sourceItem.terria;\n          ref = new _SplitItemReference[\"default\"]((0, _createGuid[\"default\"])(), terria);\n          ref.setTrait(_CommonStrata[\"default\"].user, \"splitSourceItemId\", sourceItem.uniqueId);\n          terria.addModel(ref);\n          _context3.next = 6;\n          return ref.loadReference();\n        case 6:\n          return _context3.abrupt(\"return\", (0, _mobx.runInAction)(function () {\n            var _newItem$styleSelecta;\n            if (ref.target === undefined) {\n              throw Error(\"failed to split item\");\n            }\n            var newItem = ref.target;\n            newItem.setTrait(_CommonStrata[\"default\"].user, \"show\", true);\n            newItem.setTrait(_CommonStrata[\"default\"].user, \"splitDirection\", splitDirection);\n            newItem.setTrait(_CommonStrata[\"default\"].user, \"currentTime\", null);\n            newItem.setTrait(_CommonStrata[\"default\"].user, \"initialTimeSource\", \"none\");\n            if (hasOpacity(newItem)) {\n              // We want to show the item on the map only after date selection. At the\n              // same time we cannot set `show` to false because if we\n              // do so, date picking which relies on feature picking, will not work. So\n              // we simply set the opacity of the item to 0.\n              newItem.setTrait(_CommonStrata[\"default\"].user, \"opacity\", 0);\n            }\n            setDefaultDiffStyle(newItem);\n\n            // Set the default style to true color style if it exists\n            var trueColor = (_newItem$styleSelecta = newItem.styleSelectableDimensions) === null || _newItem$styleSelecta === void 0 || (_newItem$styleSelecta = _newItem$styleSelecta[0]) === null || _newItem$styleSelecta === void 0 || (_newItem$styleSelecta = _newItem$styleSelecta.options) === null || _newItem$styleSelecta === void 0 ? void 0 : _newItem$styleSelecta.find(function (style) {\n              return (0, _isDefined[\"default\"])(style.name) && style.name.search(/true/i) >= 0;\n            });\n            if (trueColor !== null && trueColor !== void 0 && trueColor.id) {\n              var _newItem$styleSelecta2;\n              (_newItem$styleSelecta2 = newItem.styleSelectableDimensions) === null || _newItem$styleSelecta2 === void 0 || (_newItem$styleSelecta2 = _newItem$styleSelecta2[0]) === null || _newItem$styleSelecta2 === void 0 || _newItem$styleSelecta2.setDimensionValue(_CommonStrata[\"default\"].user, trueColor.id);\n            }\n            terria.overlays.add(newItem);\n            return newItem;\n          }));\n        case 7:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return _createSplitItem.apply(this, arguments);\n}\nfunction setDefaultDiffStyle(item) {\n  if (item.diffStyleId !== undefined) {\n    return;\n  }\n  var availableStyles = (0, _filterOutUndefined[\"default\"])(item.availableDiffStyles.map(function (diffStyleId) {\n    var _item$styleSelectable;\n    return (_item$styleSelectable = item.styleSelectableDimensions) === null || _item$styleSelectable === void 0 || (_item$styleSelectable = _item$styleSelectable[0]) === null || _item$styleSelectable === void 0 || (_item$styleSelectable = _item$styleSelectable.options) === null || _item$styleSelectable === void 0 ? void 0 : _item$styleSelectable.find(function (style) {\n      return style.id === diffStyleId;\n    });\n  }));\n  if (availableStyles.length === 1) {\n    item.setTrait(_CommonStrata[\"default\"].user, \"diffStyleId\", availableStyles[0].id);\n  }\n}\nfunction removeSplitItem(item) {\n  var terria = item.terria;\n  terria.overlays.remove(item);\n  if (item.sourceReference && terria.workbench.contains(item) === false) {\n    terria.removeModelReferences(item.sourceReference);\n  }\n}\nfunction doesFeatureBelongToItem(feature, item) {\n  var _feature$imageryLayer;\n  if (!_MappableMixin[\"default\"].isMixedInto(item)) return false;\n  var imageryProvider = (_feature$imageryLayer = feature.imageryLayer) === null || _feature$imageryLayer === void 0 ? void 0 : _feature$imageryLayer.imageryProvider;\n  if (imageryProvider === undefined) return false;\n  return item.mapItems.find(function (m) {\n    return _MappableMixin.ImageryParts.is(m) && m.imageryProvider === imageryProvider;\n  }) !== undefined;\n}\nfunction setTimeFilterFromLocation(item, location, im) {\n  var carto = new _Cartographic[\"default\"](_Math[\"default\"].toRadians(location.longitude), _Math[\"default\"].toRadians(location.latitude));\n  // We just need to set this to a high enough level supported by the service\n  var level = 30;\n  var tile = im.tilingScheme.positionToTileXY(carto, level);\n  return item.setTimeFilterFromLocation({\n    position: {\n      latitude: location.latitude,\n      longitude: location.longitude,\n      height: location.height\n    },\n    tileCoords: {\n      x: tile.x,\n      y: tile.y,\n      level: level\n    }\n  });\n}\nfunction hasOpacity(model) {\n  return (0, _hasTraits[\"default\"])(model, _ImageryProviderTraits[\"default\"], \"opacity\");\n}\nvar _default = exports[\"default\"] = (0, _hoistNonReactStatics[\"default\"])((0, _reactI18next.withTranslation)()((0, _styledComponents.withTheme)(DiffTool)), DiffTool);\nvar _StyledStyledIcon = (0, _styledComponents[\"default\"])(_Icon.StyledIcon).withConfig({\n  displayName: \"DiffTool___StyledStyledIcon\",\n  componentId: \"sc-f0lifz-8\"\n})([\"transform:rotate(90deg);\"]);\nvar _StyledBox = (0, _styledComponents[\"default\"])(_Box[\"default\"]).withConfig({\n  displayName: \"DiffTool___StyledBox\",\n  componentId: \"sc-f0lifz-9\"\n})([\"\", \"\"], function (p) {\n  return p.$_css3;\n});\nvar _StyledText = (0, _styledComponents[\"default\"])(_Text[\"default\"]).withConfig({\n  displayName: \"DiffTool___StyledText\",\n  componentId: \"sc-f0lifz-10\"\n})([\"\", \"\"], function (p) {\n  return p.$_css4;\n});\nvar _StyledBox2 = (0, _styledComponents[\"default\"])(_Box[\"default\"]).withConfig({\n  displayName: \"DiffTool___StyledBox2\",\n  componentId: \"sc-f0lifz-11\"\n})([\"@media (max-width:\", \"px){width:100%;}\"], function (props) {\n  return props.theme.md;\n});\nvar _StyledText2 = (0, _styledComponents[\"default\"])(_Text[\"default\"]).withConfig({\n  displayName: \"DiffTool___StyledText2\",\n  componentId: \"sc-f0lifz-12\"\n})([\"fill:\", \";\"], function (_ref3) {\n  var theme = _ref3.theme;\n  return theme.textLight;\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvUmVhY3RWaWV3cy9Ub29scy9EaWZmVG9vbC9EaWZmVG9vbC50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvUmVhY3RWaWV3cy9Ub29scy9EaWZmVG9vbC9EaWZmVG9vbC50c3g/MmFlNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaG9pc3RTdGF0aWNzIGZyb20gXCJob2lzdC1ub24tcmVhY3Qtc3RhdGljc1wiO1xyXG5pbXBvcnQgeyBURnVuY3Rpb24gfSBmcm9tIFwiaTE4bmV4dFwiO1xyXG5pbXBvcnQge1xyXG4gIGFjdGlvbixcclxuICBjb21wdXRlZCxcclxuICBvYnNlcnZhYmxlLFxyXG4gIHJlYWN0aW9uLFxyXG4gIHJ1bkluQWN0aW9uLFxyXG4gIG1ha2VPYnNlcnZhYmxlXHJcbn0gZnJvbSBcIm1vYnhcIjtcclxuaW1wb3J0IHsgb2JzZXJ2ZXIgfSBmcm9tIFwibW9ieC1yZWFjdFwiO1xyXG5pbXBvcnQgeyBJRGlzcG9zZXIgfSBmcm9tIFwibW9ieC11dGlsc1wiO1xyXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcclxuaW1wb3J0IHsgV2l0aFRyYW5zbGF0aW9uLCB3aXRoVHJhbnNsYXRpb24gfSBmcm9tIFwicmVhY3QtaTE4bmV4dFwiO1xyXG5pbXBvcnQgc3R5bGVkLCB7IERlZmF1bHRUaGVtZSwgdXNlVGhlbWUsIHdpdGhUaGVtZSB9IGZyb20gXCJzdHlsZWQtY29tcG9uZW50c1wiO1xyXG5pbXBvcnQgQ2FydG9ncmFwaGljIGZyb20gXCJ0ZXJyaWFqcy1jZXNpdW0vU291cmNlL0NvcmUvQ2FydG9ncmFwaGljXCI7XHJcbmltcG9ydCBjcmVhdGVHdWlkIGZyb20gXCJ0ZXJyaWFqcy1jZXNpdW0vU291cmNlL0NvcmUvY3JlYXRlR3VpZFwiO1xyXG5pbXBvcnQgSnVsaWFuRGF0ZSBmcm9tIFwidGVycmlhanMtY2VzaXVtL1NvdXJjZS9Db3JlL0p1bGlhbkRhdGVcIjtcclxuaW1wb3J0IENlc2l1bU1hdGggZnJvbSBcInRlcnJpYWpzLWNlc2l1bS9Tb3VyY2UvQ29yZS9NYXRoXCI7XHJcbmltcG9ydCBJbWFnZXJ5UHJvdmlkZXIgZnJvbSBcInRlcnJpYWpzLWNlc2l1bS9Tb3VyY2UvU2NlbmUvSW1hZ2VyeVByb3ZpZGVyXCI7XHJcbmltcG9ydCBTcGxpdERpcmVjdGlvbiBmcm9tIFwidGVycmlhanMtY2VzaXVtL1NvdXJjZS9TY2VuZS9TcGxpdERpcmVjdGlvblwiO1xyXG5pbXBvcnQgZmlsdGVyT3V0VW5kZWZpbmVkIGZyb20gXCIuLi8uLi8uLi9Db3JlL2ZpbHRlck91dFVuZGVmaW5lZFwiO1xyXG5pbXBvcnQgaXNEZWZpbmVkIGZyb20gXCIuLi8uLi8uLi9Db3JlL2lzRGVmaW5lZFwiO1xyXG5pbXBvcnQgTGF0TG9uSGVpZ2h0IGZyb20gXCIuLi8uLi8uLi9Db3JlL0xhdExvbkhlaWdodFwiO1xyXG5pbXBvcnQgUGlja2VkRmVhdHVyZXMgZnJvbSBcIi4uLy4uLy4uL01hcC9QaWNrZWRGZWF0dXJlcy9QaWNrZWRGZWF0dXJlc1wiO1xyXG5pbXBvcnQgcHJldHRpZnlDb29yZGluYXRlcyBmcm9tIFwiLi4vLi4vLi4vTWFwL1ZlY3Rvci9wcmV0dGlmeUNvb3JkaW5hdGVzXCI7XHJcbmltcG9ydCBEaWZmYWJsZU1peGluIGZyb20gXCIuLi8uLi8uLi9Nb2RlbE1peGlucy9EaWZmYWJsZU1peGluXCI7XHJcbmltcG9ydCBNYXBwYWJsZU1peGluLCB7XHJcbiAgSW1hZ2VyeVBhcnRzXHJcbn0gZnJvbSBcIi4uLy4uLy4uL01vZGVsTWl4aW5zL01hcHBhYmxlTWl4aW5cIjtcclxuaW1wb3J0IENvbW1vblN0cmF0YSBmcm9tIFwiLi4vLi4vLi4vTW9kZWxzL0RlZmluaXRpb24vQ29tbW9uU3RyYXRhXCI7XHJcbmltcG9ydCBUZXJyaWFGZWF0dXJlIGZyb20gXCIuLi8uLi8uLi9Nb2RlbHMvRmVhdHVyZS9GZWF0dXJlXCI7XHJcbmltcG9ydCBoYXNUcmFpdHMsIHsgSGFzVHJhaXQgfSBmcm9tIFwiLi4vLi4vLi4vTW9kZWxzL0RlZmluaXRpb24vaGFzVHJhaXRzXCI7XHJcbmltcG9ydCB7XHJcbiAgZ2V0TWFya2VyTG9jYXRpb24sXHJcbiAgcmVtb3ZlTWFya2VyXHJcbn0gZnJvbSBcIi4uLy4uLy4uL01vZGVscy9Mb2NhdGlvbk1hcmtlclV0aWxzXCI7XHJcbmltcG9ydCB7IEVudW1EaW1lbnNpb25PcHRpb24gfSBmcm9tIFwiLi4vLi4vLi4vTW9kZWxzL1NlbGVjdGFibGVEaW1lbnNpb25zL1NlbGVjdGFibGVEaW1lbnNpb25zXCI7XHJcbmltcG9ydCBTcGxpdEl0ZW1SZWZlcmVuY2UgZnJvbSBcIi4uLy4uLy4uL01vZGVscy9DYXRhbG9nL0NhdGFsb2dSZWZlcmVuY2VzL1NwbGl0SXRlbVJlZmVyZW5jZVwiO1xyXG5pbXBvcnQgVGVycmlhIGZyb20gXCIuLi8uLi8uLi9Nb2RlbHMvVGVycmlhXCI7XHJcbmltcG9ydCBWaWV3U3RhdGUgZnJvbSBcIi4uLy4uLy4uL1JlYWN0Vmlld01vZGVscy9WaWV3U3RhdGVcIjtcclxuaW1wb3J0IEJveCwgeyBCb3hTcGFuIH0gZnJvbSBcIi4uLy4uLy4uL1N0eWxlZC9Cb3hcIjtcclxuaW1wb3J0IEJ1dHRvbiwgeyBSYXdCdXR0b24gfSBmcm9tIFwiLi4vLi4vLi4vU3R5bGVkL0J1dHRvblwiO1xyXG5pbXBvcnQgU2VsZWN0IGZyb20gXCIuLi8uLi8uLi9TdHlsZWQvU2VsZWN0XCI7XHJcbmltcG9ydCBTcGFjaW5nIGZyb20gXCIuLi8uLi8uLi9TdHlsZWQvU3BhY2luZ1wiO1xyXG5pbXBvcnQgVGV4dCwgeyBUZXh0U3BhbiB9IGZyb20gXCIuLi8uLi8uLi9TdHlsZWQvVGV4dFwiO1xyXG5pbXBvcnQgSW1hZ2VyeVByb3ZpZGVyVHJhaXRzIGZyb20gXCIuLi8uLi8uLi9UcmFpdHMvVHJhaXRzQ2xhc3Nlcy9JbWFnZXJ5UHJvdmlkZXJUcmFpdHNcIjtcclxuaW1wb3J0IHsgcGFyc2VDdXN0b21NYXJrZG93blRvUmVhY3RXaXRoT3B0aW9ucyB9IGZyb20gXCIuLi8uLi9DdXN0b20vcGFyc2VDdXN0b21NYXJrZG93blRvUmVhY3RcIjtcclxuaW1wb3J0IHsgR0xZUEhTLCBTdHlsZWRJY29uIH0gZnJvbSBcIi4uLy4uLy4uL1N0eWxlZC9JY29uXCI7XHJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIi4uLy4uL0xvYWRlclwiO1xyXG5pbXBvcnQgRGF0ZVBpY2tlciBmcm9tIFwiLi9EYXRlUGlja2VyXCI7XHJcbmltcG9ydCBMb2NhdGlvblBpY2tlciBmcm9tIFwiLi9Mb2NhdGlvblBpY2tlclwiO1xyXG5pbXBvcnQgeyBDTE9TRV9UT09MX0lEIH0gZnJvbSBcIi4uLy4uL01hcC9NYXBOYXZpZ2F0aW9uL3JlZ2lzdGVyTWFwTmF2aWdhdGlvbnNcIjtcclxuXHJcbmNvbnN0IGRhdGVGb3JtYXQgPSByZXF1aXJlKFwiZGF0ZWZvcm1hdFwiKTtcclxuXHJcbnR5cGUgRGlmZmFibGVJdGVtID0gRGlmZmFibGVNaXhpbi5JbnN0YW5jZTtcclxuXHJcbmludGVyZmFjZSBQcm9wc1R5cGUgZXh0ZW5kcyBXaXRoVHJhbnNsYXRpb24ge1xyXG4gIHZpZXdTdGF0ZTogVmlld1N0YXRlO1xyXG4gIHNvdXJjZUl0ZW06IERpZmZhYmxlSXRlbTtcclxuICB0aGVtZTogRGVmYXVsdFRoZW1lO1xyXG59XHJcblxyXG5Ab2JzZXJ2ZXJcclxuY2xhc3MgRGlmZlRvb2wgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UHJvcHNUeXBlPiB7XHJcbiAgc3RhdGljIHJlYWRvbmx5IHRvb2xOYW1lID0gXCJJbWFnZSBEaWZmZXJlbmNlXCI7XHJcblxyXG4gIEBvYnNlcnZhYmxlIHByaXZhdGUgbGVmdEl0ZW0/OiBEaWZmYWJsZUl0ZW07XHJcbiAgQG9ic2VydmFibGUgcHJpdmF0ZSByaWdodEl0ZW0/OiBEaWZmYWJsZUl0ZW07XHJcbiAgQG9ic2VydmFibGUgcHJpdmF0ZSB1c2VyU2VsZWN0ZWRTb3VyY2VJdGVtPzogRGlmZmFibGVJdGVtO1xyXG5cclxuICBwcml2YXRlIHNwbGl0dGVySXRlbXNEaXNwb3Nlcj86IElEaXNwb3NlcjtcclxuICBwcml2YXRlIG9yaWdpbmFsU2V0dGluZ3M6IGFueTtcclxuXHJcbiAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzVHlwZSkge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgbWFrZU9ic2VydmFibGUodGhpcyk7XHJcbiAgfVxyXG5cclxuICBAY29tcHV0ZWRcclxuICBnZXQgc291cmNlSXRlbSgpOiBEaWZmYWJsZUl0ZW0ge1xyXG4gICAgcmV0dXJuIHRoaXMudXNlclNlbGVjdGVkU291cmNlSXRlbSB8fCB0aGlzLnByb3BzLnNvdXJjZUl0ZW07XHJcbiAgfVxyXG5cclxuICBAYWN0aW9uLmJvdW5kXHJcbiAgY2hhbmdlU291cmNlSXRlbShzb3VyY2VJdGVtOiBEaWZmYWJsZUl0ZW0pIHtcclxuICAgIHRoaXMudXNlclNlbGVjdGVkU291cmNlSXRlbSA9IHNvdXJjZUl0ZW07XHJcbiAgfVxyXG5cclxuICBAYWN0aW9uXHJcbiAgYXN5bmMgY3JlYXRlU3BsaXR0ZXJJdGVtcygpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IFtsZWZ0SXRlbSwgcmlnaHRJdGVtXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAgICBjcmVhdGVTcGxpdEl0ZW0odGhpcy5zb3VyY2VJdGVtLCBTcGxpdERpcmVjdGlvbi5MRUZUKSxcclxuICAgICAgICBjcmVhdGVTcGxpdEl0ZW0odGhpcy5zb3VyY2VJdGVtLCBTcGxpdERpcmVjdGlvbi5SSUdIVClcclxuICAgICAgXSk7XHJcbiAgICAgIHJ1bkluQWN0aW9uKCgpID0+IHtcclxuICAgICAgICB0aGlzLmxlZnRJdGVtID0gbGVmdEl0ZW07XHJcbiAgICAgICAgdGhpcy5yaWdodEl0ZW0gPSByaWdodEl0ZW07XHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCB7fVxyXG4gIH1cclxuXHJcbiAgQGFjdGlvblxyXG4gIHJlbW92ZVNwbGl0dGVySXRlbXMoKSB7XHJcbiAgICB0aGlzLmxlZnRJdGVtICYmIHJlbW92ZVNwbGl0SXRlbSh0aGlzLmxlZnRJdGVtKTtcclxuICAgIHRoaXMucmlnaHRJdGVtICYmIHJlbW92ZVNwbGl0SXRlbSh0aGlzLnJpZ2h0SXRlbSk7XHJcbiAgfVxyXG5cclxuICBAYWN0aW9uXHJcbiAgZW50ZXJEaWZmVG9vbCgpIHtcclxuICAgIC8vIFN0YXJ0IHRoZSByZWFjdGlvbiB0aGF0IHNwbGl0cyB0aGUgc291cmNlSXRlbSBpbnRvIGxlZnQgJiByaWdodCBpdGVtc1xyXG4gICAgdGhpcy5zcGxpdHRlckl0ZW1zRGlzcG9zZXIgPSByZWFjdGlvbihcclxuICAgICAgKCkgPT4gdGhpcy5zb3VyY2VJdGVtLFxyXG4gICAgICAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVTcGxpdHRlckl0ZW1zKCk7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVTcGxpdHRlckl0ZW1zKCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHsgZmlyZUltbWVkaWF0ZWx5OiB0cnVlIH1cclxuICAgICk7XHJcblxyXG4gICAgY29uc3Qgdmlld1N0YXRlID0gdGhpcy5wcm9wcy52aWV3U3RhdGU7XHJcbiAgICBjb25zdCB0ZXJyaWEgPSB2aWV3U3RhdGUudGVycmlhO1xyXG4gICAgdGhpcy5vcmlnaW5hbFNldHRpbmdzID0ge1xyXG4gICAgICBzaG93U3BsaXR0ZXI6IHRlcnJpYS5zaG93U3BsaXR0ZXIsXHJcbiAgICAgIGlzTWFwRnVsbFNjcmVlbjogdmlld1N0YXRlLmlzTWFwRnVsbFNjcmVlblxyXG4gICAgfTtcclxuICAgIHRlcnJpYS5zaG93U3BsaXR0ZXIgPSB0cnVlO1xyXG4gICAgdmlld1N0YXRlLnNldElzTWFwRnVsbFNjcmVlbih0cnVlKTtcclxuICAgIHRoaXMuc291cmNlSXRlbS5zZXRUcmFpdChDb21tb25TdHJhdGEudXNlciwgXCJzaG93XCIsIGZhbHNlKTtcclxuICAgIHRlcnJpYS5tYXBOYXZpZ2F0aW9uTW9kZWwuc2hvdyhDTE9TRV9UT09MX0lEKTtcclxuICAgIHRlcnJpYS5lbGVtZW50cy5zZXQoXCJ0aW1lbGluZVwiLCB7IHZpc2libGU6IGZhbHNlIH0pO1xyXG4gICAgY29uc3QgY2xvc2VUb29sID0gdGVycmlhLm1hcE5hdmlnYXRpb25Nb2RlbC5maW5kSXRlbShDTE9TRV9UT09MX0lEKTtcclxuICAgIGlmIChjbG9zZVRvb2wpIHtcclxuICAgICAgY2xvc2VUb29sLmNvbnRyb2xsZXIuYWN0aXZhdGUoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIEBhY3Rpb25cclxuICBsZWF2ZURpZmZUb29sKCkge1xyXG4gICAgY29uc3Qgdmlld1N0YXRlID0gdGhpcy5wcm9wcy52aWV3U3RhdGU7XHJcbiAgICBjb25zdCB0ZXJyaWEgPSB2aWV3U3RhdGUudGVycmlhO1xyXG4gICAgY29uc3Qgb3JpZ2luYWxTZXR0aW5ncyA9IHRoaXMub3JpZ2luYWxTZXR0aW5ncztcclxuICAgIHRoaXMucmVtb3ZlU3BsaXR0ZXJJdGVtcygpO1xyXG4gICAgdGhpcy5zcGxpdHRlckl0ZW1zRGlzcG9zZXI/LigpO1xyXG4gICAgdGVycmlhLnNob3dTcGxpdHRlciA9IG9yaWdpbmFsU2V0dGluZ3Muc2hvd1NwbGl0dGVyO1xyXG4gICAgdmlld1N0YXRlLnNldElzTWFwRnVsbFNjcmVlbihvcmlnaW5hbFNldHRpbmdzLmlzTWFwRnVsbFNjcmVlbik7XHJcbiAgICB0aGlzLnNvdXJjZUl0ZW0uc2V0VHJhaXQoQ29tbW9uU3RyYXRhLnVzZXIsIFwic2hvd1wiLCB0cnVlKTtcclxuICAgIHRlcnJpYS5tYXBOYXZpZ2F0aW9uTW9kZWwuaGlkZShDTE9TRV9UT09MX0lEKTtcclxuICAgIHRlcnJpYS5lbGVtZW50cy5zZXQoXCJ0aW1lbGluZVwiLCB7IHZpc2libGU6IHRydWUgfSk7XHJcbiAgICBjb25zdCBjbG9zZVRvb2wgPSB0ZXJyaWEubWFwTmF2aWdhdGlvbk1vZGVsLmZpbmRJdGVtKENMT1NFX1RPT0xfSUQpO1xyXG4gICAgaWYgKGNsb3NlVG9vbCkge1xyXG4gICAgICBjbG9zZVRvb2wuY29udHJvbGxlci5kZWFjdGl2YXRlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgIHRoaXMuZW50ZXJEaWZmVG9vbCgpO1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICB0aGlzLmxlYXZlRGlmZlRvb2woKTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGlmICh0aGlzLmxlZnRJdGVtICYmIHRoaXMucmlnaHRJdGVtKSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPE1haW5cclxuICAgICAgICAgIHsuLi50aGlzLnByb3BzfVxyXG4gICAgICAgICAgdGhlbWU9e3RoaXMucHJvcHMudGhlbWV9XHJcbiAgICAgICAgICB0ZXJyaWE9e3RoaXMucHJvcHMudmlld1N0YXRlLnRlcnJpYX1cclxuICAgICAgICAgIHNvdXJjZUl0ZW09e3RoaXMuc291cmNlSXRlbX1cclxuICAgICAgICAgIGNoYW5nZVNvdXJjZUl0ZW09e3RoaXMuY2hhbmdlU291cmNlSXRlbX1cclxuICAgICAgICAgIGxlZnRJdGVtPXt0aGlzLmxlZnRJdGVtfVxyXG4gICAgICAgICAgcmlnaHRJdGVtPXt0aGlzLnJpZ2h0SXRlbX1cclxuICAgICAgICAvPlxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIHJldHVybiBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuaW50ZXJmYWNlIE1haW5Qcm9wc1R5cGUgZXh0ZW5kcyBQcm9wc1R5cGUge1xyXG4gIHRlcnJpYTogVGVycmlhO1xyXG4gIGxlZnRJdGVtOiBEaWZmYWJsZUl0ZW07XHJcbiAgcmlnaHRJdGVtOiBEaWZmYWJsZUl0ZW07XHJcbiAgY2hhbmdlU291cmNlSXRlbTogKG5ld1NvdXJjZUl0ZW06IERpZmZhYmxlSXRlbSkgPT4gdm9pZDtcclxufVxyXG5cclxuQG9ic2VydmVyXHJcbmNsYXNzIE1haW4gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8TWFpblByb3BzVHlwZT4ge1xyXG4gIEBvYnNlcnZhYmxlIHByaXZhdGUgbG9jYXRpb24/OiBMYXRMb25IZWlnaHQ7XHJcbiAgQG9ic2VydmFibGUgcHJpdmF0ZSBfbG9jYXRpb25QaWNrRXJyb3IgPSBmYWxzZTtcclxuICBAb2JzZXJ2YWJsZSBwcml2YXRlIF9pc1BpY2tpbmdOZXdMb2NhdGlvbiA9IGZhbHNlO1xyXG5cclxuICBwcml2YXRlIG9wZW5MZWZ0RGF0ZVBpY2tlckJ1dHRvbjogUmVhY3QuUmVmT2JqZWN0PEhUTUxCdXR0b25FbGVtZW50PiA9XHJcbiAgICBSZWFjdC5jcmVhdGVSZWYoKTtcclxuICBwcml2YXRlIG9wZW5SaWdodERhdGVQaWNrZXJCdXR0b246IFJlYWN0LlJlZk9iamVjdDxIVE1MQnV0dG9uRWxlbWVudD4gPVxyXG4gICAgUmVhY3QuY3JlYXRlUmVmKCk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByb3BzOiBNYWluUHJvcHNUeXBlKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcbiAgICBtYWtlT2JzZXJ2YWJsZSh0aGlzKTtcclxuICB9XHJcblxyXG4gIEBjb21wdXRlZFxyXG4gIGdldCBsb2NhdGlvblBpY2tlck1lc3NhZ2VzKCkge1xyXG4gICAgY29uc3QgdCA9IHRoaXMucHJvcHMudDtcclxuICAgIGlmICh0aGlzLl9sb2NhdGlvblBpY2tFcnJvcikge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHRpdGxlOiB0KFwiZGlmZlRvb2wubG9jYXRpb25QaWNrZXIuZXJyb3JNZXNzYWdlcy50aXRsZVwiKSxcclxuICAgICAgICBiZWZvcmVQaWNrOiB0KFwiZGlmZlRvb2wubG9jYXRpb25QaWNrZXIuZXJyb3JNZXNzYWdlcy5iZWZvcmVQaWNrXCIpLFxyXG4gICAgICAgIGFmdGVyUGljazogdChcImRpZmZUb29sLmxvY2F0aW9uUGlja2VyLmVycm9yTWVzc2FnZXMuYWZ0ZXJQaWNrXCIpXHJcbiAgICAgIH07XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMubG9jYXRpb24pIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB0aXRsZTogdChcclxuICAgICAgICAgIFwiZGlmZlRvb2wubG9jYXRpb25QaWNrZXIubmV4dE1lc3NhZ2VzLnRpdGxlXCIsXHJcbiAgICAgICAgICBwcmV0dGlmeUNvb3JkaW5hdGVzKHRoaXMubG9jYXRpb24ubG9uZ2l0dWRlLCB0aGlzLmxvY2F0aW9uLmxhdGl0dWRlLCB7XHJcbiAgICAgICAgICAgIGRpZ2l0czogMlxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApLFxyXG4gICAgICAgIGJlZm9yZVBpY2s6IHQoXCJkaWZmVG9vbC5sb2NhdGlvblBpY2tlci5uZXh0TWVzc2FnZXMuYmVmb3JlUGlja1wiKSxcclxuICAgICAgICBhZnRlclBpY2s6IHQoXCJkaWZmVG9vbC5sb2NhdGlvblBpY2tlci5uZXh0TWVzc2FnZXMuYWZ0ZXJQaWNrXCIpXHJcbiAgICAgIH07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHRpdGxlOiB0KFwiZGlmZlRvb2wubG9jYXRpb25QaWNrZXIuaW5pdGlhbE1lc3NhZ2VzLnRpdGxlXCIpLFxyXG4gICAgICAgIGJlZm9yZVBpY2s6IHQoXCJkaWZmVG9vbC5sb2NhdGlvblBpY2tlci5pbml0aWFsTWVzc2FnZXMuYmVmb3JlUGlja1wiKSxcclxuICAgICAgICBhZnRlclBpY2s6IHQoXCJkaWZmVG9vbC5sb2NhdGlvblBpY2tlci5pbml0aWFsTWVzc2FnZXMuYWZ0ZXJQaWNrXCIpXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBAY29tcHV0ZWRcclxuICBnZXQgZGlmZkl0ZW0oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5sZWZ0SXRlbTtcclxuICB9XHJcblxyXG4gIEBjb21wdXRlZFxyXG4gIGdldCBkaWZmSXRlbU5hbWUoKSB7XHJcbiAgICBjb25zdCBuYW1lID0gdGhpcy5wcm9wcy5zb3VyY2VJdGVtLm5hbWUgfHwgXCJcIjtcclxuICAgIGNvbnN0IGZpcnN0RGF0ZSA9IHRoaXMubGVmdERhdGU7XHJcbiAgICBjb25zdCBzZWNvbmREYXRlID0gdGhpcy5yaWdodERhdGU7XHJcbiAgICBjb25zdCBmb3JtYXQgPSBcInl5eXkvbW0vZGRcIjtcclxuICAgIGlmICghZmlyc3REYXRlIHx8ICFzZWNvbmREYXRlKSB7XHJcbiAgICAgIHJldHVybiBuYW1lO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgZDEgPSBkYXRlRm9ybWF0KGZpcnN0RGF0ZSwgZm9ybWF0KTtcclxuICAgICAgY29uc3QgZDIgPSBkYXRlRm9ybWF0KHNlY29uZERhdGUsIGZvcm1hdCk7XHJcbiAgICAgIHJldHVybiBgJHtuYW1lfSAtIGRpZmZlcmVuY2UgZm9yIGRhdGVzICR7ZDF9LCAke2QyfWA7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBAY29tcHV0ZWRcclxuICBnZXQgZGlmZmFibGVJdGVtc0luV29ya2JlbmNoKCk6IERpZmZhYmxlSXRlbVtdIHtcclxuICAgIHJldHVybiB0aGlzLnByb3BzLnRlcnJpYS53b3JrYmVuY2guaXRlbXMuZmlsdGVyKFxyXG4gICAgICAoaXRlbSkgPT4gRGlmZmFibGVNaXhpbi5pc01peGVkSW50byhpdGVtKSAmJiBpdGVtLmNhbkRpZmZJbWFnZXNcclxuICAgICkgYXMgRGlmZmFibGVJdGVtW107XHJcbiAgfVxyXG5cclxuICBAY29tcHV0ZWRcclxuICBnZXQgcHJldmlld1N0eWxlKCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XHJcbiAgICByZXR1cm4gdGhpcy5kaWZmSXRlbS5zdHlsZVNlbGVjdGFibGVEaW1lbnNpb25zPy5bMF0/LnNlbGVjdGVkSWQ7XHJcbiAgfVxyXG5cclxuICBAY29tcHV0ZWRcclxuICBnZXQgZGlmZlN0eWxlKCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XHJcbiAgICByZXR1cm4gdGhpcy5kaWZmSXRlbS5kaWZmU3R5bGVJZDtcclxuICB9XHJcblxyXG4gIEBjb21wdXRlZFxyXG4gIGdldCBhdmFpbGFibGVEaWZmU3R5bGVzKCk6IEVudW1EaW1lbnNpb25PcHRpb25bXSB7XHJcbiAgICByZXR1cm4gZmlsdGVyT3V0VW5kZWZpbmVkKFxyXG4gICAgICB0aGlzLmRpZmZJdGVtLmF2YWlsYWJsZURpZmZTdHlsZXMubWFwKChkaWZmU3R5bGVJZCkgPT5cclxuICAgICAgICB0aGlzLmRpZmZJdGVtLnN0eWxlU2VsZWN0YWJsZURpbWVuc2lvbnM/LlswXT8ub3B0aW9ucz8uZmluZChcclxuICAgICAgICAgIChzdHlsZSkgPT4gc3R5bGUuaWQgPT09IGRpZmZTdHlsZUlkXHJcbiAgICAgICAgKVxyXG4gICAgICApXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgQGNvbXB1dGVkXHJcbiAgZ2V0IGxlZnREYXRlKCk6IEp1bGlhbkRhdGUgfCB1bmRlZmluZWQge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcHMubGVmdEl0ZW0uY3VycmVudERpc2NyZXRlSnVsaWFuRGF0ZTtcclxuICB9XHJcblxyXG4gIEBjb21wdXRlZFxyXG4gIGdldCByaWdodERhdGUoKTogSnVsaWFuRGF0ZSB8IHVuZGVmaW5lZCB7XHJcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5yaWdodEl0ZW0uY3VycmVudERpc2NyZXRlSnVsaWFuRGF0ZTtcclxuICB9XHJcblxyXG4gIEBjb21wdXRlZFxyXG4gIGdldCBkaWZmTGVnZW5kVXJsKCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICB0aGlzLmRpZmZTdHlsZSAmJlxyXG4gICAgICB0aGlzLmxlZnREYXRlICYmXHJcbiAgICAgIHRoaXMucmlnaHREYXRlICYmXHJcbiAgICAgIHRoaXMuZGlmZkl0ZW0uZ2V0TGVnZW5kVXJsRm9yU3R5bGUoXHJcbiAgICAgICAgdGhpcy5kaWZmU3R5bGUsXHJcbiAgICAgICAgdGhpcy5sZWZ0RGF0ZSxcclxuICAgICAgICB0aGlzLnJpZ2h0RGF0ZVxyXG4gICAgICApXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgQGNvbXB1dGVkXHJcbiAgZ2V0IHByZXZpZXdMZWdlbmRVcmwoKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIHRoaXMucHJldmlld1N0eWxlICYmIHRoaXMuZGlmZkl0ZW0uZ2V0TGVnZW5kVXJsRm9yU3R5bGUodGhpcy5wcmV2aWV3U3R5bGUpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgQGFjdGlvblxyXG4gIHNob3dJdGVtKG1vZGVsOiBEaWZmYWJsZUl0ZW0pIHtcclxuICAgIC8vIFdlIGNoYW5nZSB0aGUgb3BhY2l0eSBpbnN0ZWFkIG9mIHNldHRpbmcgYHNob3dgIHRvIHRydWUvZmFsc2UsIGJlY2F1c2VcclxuICAgIC8vIHdlIHdhbnQgdGhlIGl0ZW0gdG8gYmUgb24gdGhlIG1hcCBmb3IgZGF0ZSBzZWxlY3Rpb24gdG8gd29ya1xyXG4gICAgaGFzT3BhY2l0eShtb2RlbCkgJiYgbW9kZWwuc2V0VHJhaXQoQ29tbW9uU3RyYXRhLnVzZXIsIFwib3BhY2l0eVwiLCAwLjgpO1xyXG4gIH1cclxuXHJcbiAgQGFjdGlvblxyXG4gIGhpZGVJdGVtKG1vZGVsOiBEaWZmYWJsZUl0ZW0pIHtcclxuICAgIC8vIFdlIGNoYW5nZSB0aGUgb3BhY2l0eSBpbnN0ZWFkIG9mIHNldHRpbmcgYHNob3dgIHRvIHRydWUvZmFsc2UsIGJlY2F1c2VcclxuICAgIC8vIHdlIHdhbnQgdGhlIGl0ZW0gdG8gYmUgb24gdGhlIG1hcCBmb3IgZGF0ZSBzZWxlY3Rpb24gdG8gd29ya1xyXG4gICAgaGFzT3BhY2l0eShtb2RlbCkgJiYgbW9kZWwuc2V0VHJhaXQoQ29tbW9uU3RyYXRhLnVzZXIsIFwib3BhY2l0eVwiLCAwKTtcclxuICB9XHJcblxyXG4gIEBhY3Rpb24uYm91bmRcclxuICBjaGFuZ2VTb3VyY2VJdGVtKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxTZWxlY3RFbGVtZW50Pikge1xyXG4gICAgY29uc3QgbmV3U291cmNlSXRlbSA9IHRoaXMuZGlmZmFibGVJdGVtc0luV29ya2JlbmNoLmZpbmQoXHJcbiAgICAgIChpdGVtKSA9PiBpdGVtLnVuaXF1ZUlkID09PSBlLnRhcmdldC52YWx1ZVxyXG4gICAgKTtcclxuICAgIGlmIChuZXdTb3VyY2VJdGVtKSB0aGlzLnByb3BzLmNoYW5nZVNvdXJjZUl0ZW0obmV3U291cmNlSXRlbSk7XHJcbiAgfVxyXG5cclxuICBAYWN0aW9uLmJvdW5kXHJcbiAgY2hhbmdlUHJldmlld1N0eWxlKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxTZWxlY3RFbGVtZW50Pikge1xyXG4gICAgY29uc3Qgc3R5bGVJZCA9IGUudGFyZ2V0LnZhbHVlO1xyXG4gICAgdGhpcy5wcm9wcy5sZWZ0SXRlbS5zdHlsZVNlbGVjdGFibGVEaW1lbnNpb25zPy5bMF0/LnNldERpbWVuc2lvblZhbHVlKFxyXG4gICAgICBDb21tb25TdHJhdGEudXNlcixcclxuICAgICAgc3R5bGVJZFxyXG4gICAgKTtcclxuICAgIHRoaXMucHJvcHMucmlnaHRJdGVtLnN0eWxlU2VsZWN0YWJsZURpbWVuc2lvbnM/LlswXT8uc2V0RGltZW5zaW9uVmFsdWUoXHJcbiAgICAgIENvbW1vblN0cmF0YS51c2VyLFxyXG4gICAgICBzdHlsZUlkXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgQGFjdGlvbi5ib3VuZFxyXG4gIGNoYW5nZURpZmZTdHlsZShlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MU2VsZWN0RWxlbWVudD4pIHtcclxuICAgIHRoaXMuZGlmZkl0ZW0uc2V0VHJhaXQoQ29tbW9uU3RyYXRhLnVzZXIsIFwiZGlmZlN0eWxlSWRcIiwgZS50YXJnZXQudmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgQGFjdGlvbi5ib3VuZFxyXG4gIG9uVXNlclBpY2tpbmdMb2NhdGlvbihwaWNraW5nTG9jYXRpb246IExhdExvbkhlaWdodCkge1xyXG4gICAgdGhpcy5faXNQaWNraW5nTmV3TG9jYXRpb24gPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgQGFjdGlvbi5ib3VuZFxyXG4gIG9uVXNlclBpY2tMb2NhdGlvbihcclxuICAgIHBpY2tlZEZlYXR1cmVzOiBQaWNrZWRGZWF0dXJlcyxcclxuICAgIHBpY2tlZExvY2F0aW9uOiBMYXRMb25IZWlnaHRcclxuICApIHtcclxuICAgIGNvbnN0IHsgbGVmdEl0ZW0sIHJpZ2h0SXRlbSwgdCB9ID0gdGhpcy5wcm9wcztcclxuICAgIGNvbnN0IGZlYXR1cmUgPSBwaWNrZWRGZWF0dXJlcy5mZWF0dXJlcy5maW5kKFxyXG4gICAgICAoZikgPT5cclxuICAgICAgICBkb2VzRmVhdHVyZUJlbG9uZ1RvSXRlbShmLCBsZWZ0SXRlbSkgfHxcclxuICAgICAgICBkb2VzRmVhdHVyZUJlbG9uZ1RvSXRlbShmLCByaWdodEl0ZW0pXHJcbiAgICApO1xyXG5cclxuICAgIGlmIChmZWF0dXJlKSB7XHJcbiAgICAgIGxlZnRJdGVtLnNldFRpbWVGaWx0ZXJGZWF0dXJlKGZlYXR1cmUsIHBpY2tlZEZlYXR1cmVzLnByb3ZpZGVyQ29vcmRzKTtcclxuICAgICAgcmlnaHRJdGVtLnNldFRpbWVGaWx0ZXJGZWF0dXJlKGZlYXR1cmUsIHBpY2tlZEZlYXR1cmVzLnByb3ZpZGVyQ29vcmRzKTtcclxuICAgICAgdGhpcy5sb2NhdGlvbiA9IHBpY2tlZExvY2F0aW9uO1xyXG4gICAgICB0aGlzLl9sb2NhdGlvblBpY2tFcnJvciA9IGZhbHNlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fbG9jYXRpb25QaWNrRXJyb3IgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgdGhpcy5faXNQaWNraW5nTmV3TG9jYXRpb24gPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIEBhY3Rpb24uYm91bmRcclxuICB1bnNldERhdGVzKCkge1xyXG4gICAgY29uc3QgeyBsZWZ0SXRlbSwgcmlnaHRJdGVtIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgbGVmdEl0ZW0uc2V0VHJhaXQoQ29tbW9uU3RyYXRhLnVzZXIsIFwiY3VycmVudFRpbWVcIiwgbnVsbCk7XHJcbiAgICByaWdodEl0ZW0uc2V0VHJhaXQoQ29tbW9uU3RyYXRhLnVzZXIsIFwiY3VycmVudFRpbWVcIiwgbnVsbCk7XHJcbiAgICB0aGlzLmhpZGVJdGVtKGxlZnRJdGVtKTtcclxuICAgIHRoaXMuaGlkZUl0ZW0ocmlnaHRJdGVtKTtcclxuICB9XHJcblxyXG4gIEBhY3Rpb24uYm91bmRcclxuICBnZW5lcmF0ZURpZmYoKSB7XHJcbiAgICBpZiAoXHJcbiAgICAgIHRoaXMubGVmdERhdGUgPT09IHVuZGVmaW5lZCB8fFxyXG4gICAgICB0aGlzLnJpZ2h0RGF0ZSA9PT0gdW5kZWZpbmVkIHx8XHJcbiAgICAgIHRoaXMuZGlmZlN0eWxlID09PSB1bmRlZmluZWRcclxuICAgICkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdGVycmlhID0gdGhpcy5wcm9wcy50ZXJyaWE7XHJcbiAgICB0ZXJyaWEub3ZlcmxheXMucmVtb3ZlKHRoaXMucHJvcHMubGVmdEl0ZW0pO1xyXG4gICAgdGVycmlhLm92ZXJsYXlzLnJlbW92ZSh0aGlzLnByb3BzLnJpZ2h0SXRlbSk7XHJcbiAgICB0ZXJyaWEud29ya2JlbmNoLmFkZCh0aGlzLmRpZmZJdGVtKTtcclxuXHJcbiAgICB0aGlzLmRpZmZJdGVtLnNldFRyYWl0KENvbW1vblN0cmF0YS51c2VyLCBcIm5hbWVcIiwgdGhpcy5kaWZmSXRlbU5hbWUpO1xyXG4gICAgdGhpcy5kaWZmSXRlbS5zaG93RGlmZkltYWdlKHRoaXMubGVmdERhdGUsIHRoaXMucmlnaHREYXRlLCB0aGlzLmRpZmZTdHlsZSk7XHJcbiAgICB0ZXJyaWEuc2hvd1NwbGl0dGVyID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBAYWN0aW9uLmJvdW5kXHJcbiAgcmVzZXRUb29sKCkge1xyXG4gICAgY29uc3QgdGVycmlhID0gdGhpcy5wcm9wcy50ZXJyaWE7XHJcbiAgICB0aGlzLmRpZmZJdGVtLmNsZWFyRGlmZkltYWdlKCk7XHJcbiAgICBzZXREZWZhdWx0RGlmZlN0eWxlKHRoaXMuZGlmZkl0ZW0pO1xyXG4gICAgdGVycmlhLm92ZXJsYXlzLmFkZCh0aGlzLnByb3BzLmxlZnRJdGVtKTtcclxuICAgIHRlcnJpYS5vdmVybGF5cy5hZGQodGhpcy5wcm9wcy5yaWdodEl0ZW0pO1xyXG4gICAgdGVycmlhLndvcmtiZW5jaC5yZW1vdmUodGhpcy5kaWZmSXRlbSk7XHJcbiAgICB0aGlzLnByb3BzLnRlcnJpYS5zaG93U3BsaXR0ZXIgPSB0cnVlO1xyXG4gICAgdGhpcy5wcm9wcy5sZWZ0SXRlbS5zZXRUcmFpdChcclxuICAgICAgQ29tbW9uU3RyYXRhLnVzZXIsXHJcbiAgICAgIFwic3BsaXREaXJlY3Rpb25cIixcclxuICAgICAgU3BsaXREaXJlY3Rpb24uTEVGVFxyXG4gICAgKTtcclxuICAgIHRoaXMucHJvcHMucmlnaHRJdGVtLnNldFRyYWl0KFxyXG4gICAgICBDb21tb25TdHJhdGEudXNlcixcclxuICAgICAgXCJzcGxpdERpcmVjdGlvblwiLFxyXG4gICAgICBTcGxpdERpcmVjdGlvbi5SSUdIVFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIEBhY3Rpb25cclxuICBhc3luYyBzZXRMb2NhdGlvbkZyb21BY3RpdmVTZWFyY2goKSB7XHJcbiAgICAvLyBMb29rIGZvciBhbnkgZXhpc3RpbmcgbWFya2VyIGxpa2UgZnJvbSBhIHNlYXJjaCByZXN1bHQgYW5kIGZpbHRlclxyXG4gICAgLy8gaW1hZ2VyeSBhdCB0aGF0IGxvY2F0aW9uXHJcbiAgICBjb25zdCBtYXJrZXJMb2NhdGlvbiA9IGdldE1hcmtlckxvY2F0aW9uKHRoaXMucHJvcHMudGVycmlhKTtcclxuICAgIGNvbnN0IHNvdXJjZUl0ZW0gPSB0aGlzLnByb3BzLnNvdXJjZUl0ZW07XHJcbiAgICBpZiAobWFya2VyTG9jYXRpb24gJiYgTWFwcGFibGVNaXhpbi5pc01peGVkSW50byhzb3VyY2VJdGVtKSkge1xyXG4gICAgICBjb25zdCBwYXJ0ID0gc291cmNlSXRlbS5tYXBJdGVtcy5maW5kKChwKSA9PiBJbWFnZXJ5UGFydHMuaXMocCkpO1xyXG4gICAgICBjb25zdCBpbWFnZXJ5UHJvdmlkZXIgPVxyXG4gICAgICAgIHBhcnQgJiYgSW1hZ2VyeVBhcnRzLmlzKHBhcnQpICYmIHBhcnQuaW1hZ2VyeVByb3ZpZGVyO1xyXG4gICAgICBpZiAoaW1hZ2VyeVByb3ZpZGVyKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXHJcbiAgICAgICAgICBzZXRUaW1lRmlsdGVyRnJvbUxvY2F0aW9uKFxyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmxlZnRJdGVtLFxyXG4gICAgICAgICAgICBtYXJrZXJMb2NhdGlvbixcclxuICAgICAgICAgICAgaW1hZ2VyeVByb3ZpZGVyXHJcbiAgICAgICAgICApLFxyXG4gICAgICAgICAgc2V0VGltZUZpbHRlckZyb21Mb2NhdGlvbihcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5yaWdodEl0ZW0sXHJcbiAgICAgICAgICAgIG1hcmtlckxvY2F0aW9uLFxyXG4gICAgICAgICAgICBpbWFnZXJ5UHJvdmlkZXJcclxuICAgICAgICAgIClcclxuICAgICAgICBdO1xyXG4gICAgICAgIGNvbnN0IHNvbWVTdWNjZXNzZnVsID0gKGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKSkuc29tZSgob2spID0+IG9rKTtcclxuICAgICAgICBpZiAoc29tZVN1Y2Nlc3NmdWwpIHtcclxuICAgICAgICAgIHJ1bkluQWN0aW9uKCgpID0+ICh0aGlzLmxvY2F0aW9uID0gbWFya2VyTG9jYXRpb24pKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gSWYgd2UgY2Fubm90IHJlc29sdmUgaW1hZ2VyeSBhdCB0aGUgbWFya2VyIGxvY2F0aW9uLCByZW1vdmUgaXRcclxuICAgICAgICAgIHJlbW92ZU1hcmtlcih0aGlzLnByb3BzLnRlcnJpYSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgIHJ1bkluQWN0aW9uKCgpID0+IHtcclxuICAgICAgaWYgKHRoaXMubG9jYXRpb24gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGNvbnN0IHsgbGF0aXR1ZGUsIGxvbmdpdHVkZSwgaGVpZ2h0IH0gPVxyXG4gICAgICAgICAgdGhpcy5kaWZmSXRlbS50aW1lRmlsdGVyQ29vcmRpbmF0ZXM7XHJcbiAgICAgICAgaWYgKGxhdGl0dWRlICE9PSB1bmRlZmluZWQgJiYgbG9uZ2l0dWRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIHRoaXMubG9jYXRpb24gPSB7XHJcbiAgICAgICAgICAgIGxhdGl0dWRlLFxyXG4gICAgICAgICAgICBsb25naXR1ZGUsXHJcbiAgICAgICAgICAgIGhlaWdodFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIC8vIHJlbW92ZSBhbnkgYWN0aXZlIHNlYXJjaCBsb2NhdGlvbiBtYXJrZXIgdG8gYXZvaWQgc2hvd2luZyB0d28gbWFya2Vyc1xyXG4gICAgICAgICAgcmVtb3ZlTWFya2VyKHRoaXMucHJvcHMudGVycmlhKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5zZXRMb2NhdGlvbkZyb21BY3RpdmVTZWFyY2goKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gaSB3YW50IHRvIHJlc3RydWN0dXJlIHRoZSByZW5kZXIgc28gdGhhdCB0aGVyZSdzIDIgZGlzdGluY3QgXCJzaG93aW5nIGRpZmZcIlxyXG4gIC8vIG9yIG5vdCBzdGF0ZXMsIHJpZ2h0IG5vdyBpbnRlcnR3aW5pbmcgdGhlbSBtZWFucyB3YXkgdG9vIG1hbnkgY29uZGl0aW9uYWxzXHJcbiAgLy8gdGhhdCBjb25mdXNlIHRoZSByZXF1aXJlZCBzcGFjaW5nIGV0Yy5cclxuICByZW5kZXIoKSB7XHJcbiAgICBjb25zdCB7IHRlcnJpYSwgdmlld1N0YXRlLCBzb3VyY2VJdGVtLCB0LCB0aGVtZSB9ID0gdGhpcy5wcm9wcztcclxuICAgIGNvbnN0IGlzU2hvd2luZ0RpZmYgPSB0aGlzLmRpZmZJdGVtLmlzU2hvd2luZ0RpZmY7XHJcbiAgICBjb25zdCBkYXRlc1NlbGVjdGVkID0gdGhpcy5sZWZ0RGF0ZSAmJiB0aGlzLnJpZ2h0RGF0ZTtcclxuICAgIGNvbnN0IGlzUmVhZHlUb0dlbmVyYXRlRGlmZiA9XHJcbiAgICAgIHRoaXMubG9jYXRpb24gJiYgZGF0ZXNTZWxlY3RlZCAmJiB0aGlzLmRpZmZTdHlsZSAhPT0gdW5kZWZpbmVkO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxUZXh0IGxhcmdlPlxyXG4gICAgICAgIDxEaWZmQWNjb3JkaW9uIHZpZXdTdGF0ZT17dmlld1N0YXRlfSB0PXt0fT5cclxuICAgICAgICAgIDxNYWluUGFuZWxcclxuICAgICAgICAgICAgaXNNYXBGdWxsU2NyZWVuPXt2aWV3U3RhdGUuaXNNYXBGdWxsU2NyZWVufVxyXG4gICAgICAgICAgICBzdHlsZWRNYXhIZWlnaHQ9e2BjYWxjKDEwMHZoIC0gJHt2aWV3U3RhdGUuYm90dG9tRG9ja0hlaWdodH1weCAtIDE1MHB4KWB9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIHtpc1Nob3dpbmdEaWZmICYmIChcclxuICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgPEJveCBjZW50ZXJlZCBsZWZ0PlxyXG4gICAgICAgICAgICAgICAgICA8QmFja0J1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgIGNzcz17YFxyXG4gICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICR7dGhlbWUudGV4dExpZ2h0fTtcclxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1jb2xvcjogJHt0aGVtZS50ZXh0TGlnaHR9O1xyXG4gICAgICAgICAgICAgICAgICAgIGB9XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNwYXJlbnRCZ1xyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucmVzZXRUb29sfVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPEJveFNwYW4gY2VudGVyZWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8U3R5bGVkSWNvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjc3M9XCJ0cmFuc2Zvcm06cm90YXRlKDkwZGVnKTtcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaWdodFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZWRXaWR0aD1cIjE2cHhcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnbHlwaD17R0xZUEhTLmFycm93RG93bn1cclxuICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8VGV4dFNwYW4gbm9Gb250U2l6ZT57dChcImdlbmVyYWwuYmFja1wiKX08L1RleHRTcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvQm94U3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPC9CYWNrQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9Cb3g+XHJcbiAgICAgICAgICAgICAgICA8U3BhY2luZyBib3R0b209ezN9IC8+XHJcbiAgICAgICAgICAgICAgICA8VGV4dCBtZWRpdW0gdGV4dExpZ2h0PlxyXG4gICAgICAgICAgICAgICAgICB7dChcImRpZmZUb29sLmRpZmZlcmVuY2VSZXN1bHRzVGl0bGVcIil9XHJcbiAgICAgICAgICAgICAgICA8L1RleHQ+XHJcbiAgICAgICAgICAgICAgICA8U3BhY2luZyBib3R0b209ezJ9IC8+XHJcbiAgICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDxUZXh0IHRleHRMaWdodD57dChcImRpZmZUb29sLmluc3RydWN0aW9ucy5wYW5lRGVzY3JpcHRpb25cIil9PC9UZXh0PlxyXG4gICAgICAgICAgICA8U3BhY2luZyBib3R0b209ezN9IC8+XHJcbiAgICAgICAgICAgIDxMb2NhdGlvbkFuZERhdGVzRGlzcGxheUJveD5cclxuICAgICAgICAgICAgICA8Qm94PlxyXG4gICAgICAgICAgICAgICAgPFRleHQgbWVkaXVtPnt0KFwiZGlmZlRvb2wubGFiZWxzLmFyZWFcIil9OjwvVGV4dD5cclxuICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxUZXh0IG1lZGl1bSB0ZXh0TGlnaHREaW1tZWQ9eyF0aGlzLmxvY2F0aW9ufT5cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5sb2NhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgPyB0KFwiZGlmZlRvb2wubG9jYXRpb25EaXNwbGF5LmxvY2F0aW9uU2VsZWN0ZWQudGl0bGVcIilcclxuICAgICAgICAgICAgICAgICAgICAgIDogdChcImRpZmZUb29sLmxvY2F0aW9uRGlzcGxheS5ub0xvY2F0aW9uU2VsZWN0ZWQudGl0bGVcIil9XHJcbiAgICAgICAgICAgICAgICAgIDwvVGV4dD5cclxuICAgICAgICAgICAgICAgICAgPFRleHQgbGlnaHQgdGV4dExpZ2h0IHNtYWxsPlxyXG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLmxvY2F0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICA/IHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkaWZmVG9vbC5sb2NhdGlvbkRpc3BsYXkubG9jYXRpb25TZWxlY3RlZC5kZXNjcmlwdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgIDogdChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImRpZmZUb29sLmxvY2F0aW9uRGlzcGxheS5ub0xvY2F0aW9uU2VsZWN0ZWQuZGVzY3JpcHRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICA8L1RleHQ+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L0JveD5cclxuICAgICAgICAgICAgICA8Qm94PlxyXG4gICAgICAgICAgICAgICAgPFRleHQgbWVkaXVtPnt0KFwiZGlmZlRvb2wubGFiZWxzLmRhdGVzXCIpfTo8L1RleHQ+XHJcbiAgICAgICAgICAgICAgICA8Qm94IGNvbHVtbiBhbGlnbkl0ZW1zRmxleFN0YXJ0PlxyXG4gICAgICAgICAgICAgICAgICB7dGhpcy5sZWZ0RGF0ZSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPFRleHQgbGFyZ2U+XHJcbiAgICAgICAgICAgICAgICAgICAgICAoQSkge2RhdGVGb3JtYXQodGhpcy5sZWZ0RGF0ZSwgXCJkZC9tbS95eXl5XCIpfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvVGV4dD5cclxuICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgeyF0aGlzLmxlZnREYXRlICYmIChcclxuICAgICAgICAgICAgICAgICAgICA8UmF3QnV0dG9uIHJlZj17dGhpcy5vcGVuTGVmdERhdGVQaWNrZXJCdXR0b259PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPFRleHRTcGFuIGlzTGluayBzbWFsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3QoXCJkaWZmVG9vbC5pbnN0cnVjdGlvbnMuc2V0RGF0ZUFcIil9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L1RleHRTcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvUmF3QnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICA8U3BhY2luZyBib3R0b209ezF9IC8+XHJcbiAgICAgICAgICAgICAgICAgIHt0aGlzLnJpZ2h0RGF0ZSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPFRleHQgbGFyZ2U+XHJcbiAgICAgICAgICAgICAgICAgICAgICAoQikge2RhdGVGb3JtYXQodGhpcy5yaWdodERhdGUsIFwiZGQvbW0veXl5eVwiKX1cclxuICAgICAgICAgICAgICAgICAgICA8L1RleHQ+XHJcbiAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgIHshdGhpcy5yaWdodERhdGUgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgIDxSYXdCdXR0b24gcmVmPXt0aGlzLm9wZW5SaWdodERhdGVQaWNrZXJCdXR0b259PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPFRleHRTcGFuIGlzTGluayBzbWFsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3QoXCJkaWZmVG9vbC5pbnN0cnVjdGlvbnMuc2V0RGF0ZUJcIil9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L1RleHRTcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvUmF3QnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICB7aXNTaG93aW5nRGlmZiA9PT0gZmFsc2UgJiYgdGhpcy5sZWZ0RGF0ZSAmJiB0aGlzLnJpZ2h0RGF0ZSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPFJhd0J1dHRvbiBvbkNsaWNrPXt0aGlzLnVuc2V0RGF0ZXN9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPFRleHRTcGFuIGlzTGluayBzbWFsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3QoXCJkaWZmVG9vbC5pbnN0cnVjdGlvbnMuY2hhbmdlRGF0ZXNcIil9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L1RleHRTcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvUmF3QnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgPC9Cb3g+XHJcbiAgICAgICAgICAgICAgPC9Cb3g+XHJcbiAgICAgICAgICAgIDwvTG9jYXRpb25BbmREYXRlc0Rpc3BsYXlCb3g+XHJcbiAgICAgICAgICAgIHshaXNTaG93aW5nRGlmZiAmJiAoXHJcbiAgICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICAgIDxTcGFjaW5nIGJvdHRvbT17NH0gLz5cclxuICAgICAgICAgICAgICAgIDxTZWxlY3RvclxyXG4gICAgICAgICAgICAgICAgICB2aWV3U3RhdGU9e3ZpZXdTdGF0ZX1cclxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3NvdXJjZUl0ZW0udW5pcXVlSWR9XHJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmNoYW5nZVNvdXJjZUl0ZW19XHJcbiAgICAgICAgICAgICAgICAgIGxhYmVsPXt0KFwiZGlmZlRvb2wubGFiZWxzLnNvdXJjZURhdGFzZXRcIil9XHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gZGlzYWJsZWQ+U2VsZWN0IHNvdXJjZSBpdGVtPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgIHt0aGlzLmRpZmZhYmxlSXRlbXNJbldvcmtiZW5jaC5tYXAoKGl0ZW0pID0+IChcclxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17aXRlbS51bmlxdWVJZH0gdmFsdWU9e2l0ZW0udW5pcXVlSWR9PlxyXG4gICAgICAgICAgICAgICAgICAgICAge2l0ZW0ubmFtZX1cclxuICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAgICA8L1NlbGVjdG9yPlxyXG4gICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgICB7IWlzU2hvd2luZ0RpZmYgJiYgKFxyXG4gICAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICA8U3BhY2luZyBib3R0b209ezR9IC8+XHJcbiAgICAgICAgICAgICAgICA8U2VsZWN0b3JcclxuICAgICAgICAgICAgICAgICAgdmlld1N0YXRlPXt2aWV3U3RhdGV9XHJcbiAgICAgICAgICAgICAgICAgIHNwYWNpbmdCb3R0b21cclxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMucHJldmlld1N0eWxlfVxyXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5jaGFuZ2VQcmV2aWV3U3R5bGV9XHJcbiAgICAgICAgICAgICAgICAgIGxhYmVsPXt0KFwiZGlmZlRvb2wubGFiZWxzLnByZXZpZXdTdHlsZVwiKX1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiBkaXNhYmxlZCB2YWx1ZT1cIlwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHt0KFwiZGlmZlRvb2wuY2hvb3NlUHJldmlld1wiKX1cclxuICAgICAgICAgICAgICAgICAgPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgIHt0aGlzLmRpZmZJdGVtLnN0eWxlU2VsZWN0YWJsZURpbWVuc2lvbnM/LlswXT8ub3B0aW9ucz8ubWFwKFxyXG4gICAgICAgICAgICAgICAgICAgIChzdHlsZSkgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e3N0eWxlLmlkfSB2YWx1ZT17c3R5bGUuaWR9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7c3R5bGUubmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIDwvU2VsZWN0b3I+XHJcbiAgICAgICAgICAgICAgICB7dGhpcy5wcmV2aWV3TGVnZW5kVXJsICYmIChcclxuICAgICAgICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICAgICAgICA8U3BhY2luZyBib3R0b209ezJ9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPExlZ2VuZEltYWdlIHdpZHRoPVwiMTAwJVwiIHNyYz17dGhpcy5wcmV2aWV3TGVnZW5kVXJsfSAvPlxyXG4gICAgICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDxTcGFjaW5nIGJvdHRvbT17Mn0gLz5cclxuICAgICAgICAgICAgPFNlbGVjdG9yXHJcbiAgICAgICAgICAgICAgdmlld1N0YXRlPXt2aWV3U3RhdGV9XHJcbiAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuZGlmZlN0eWxlIHx8IFwiXCJ9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuY2hhbmdlRGlmZlN0eWxlfVxyXG4gICAgICAgICAgICAgIGxhYmVsPXt0KFwiZGlmZlRvb2wubGFiZWxzLmRpZmZlcmVuY2VPdXRwdXRcIil9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8b3B0aW9uIGRpc2FibGVkIHZhbHVlPVwiXCI+XHJcbiAgICAgICAgICAgICAgICB7dChcImRpZmZUb29sLmNob29zZURpZmZlcmVuY2VcIil9XHJcbiAgICAgICAgICAgICAgPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAge3RoaXMuYXZhaWxhYmxlRGlmZlN0eWxlcy5tYXAoKHN0eWxlKSA9PiAoXHJcbiAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17c3R5bGUuaWR9IHZhbHVlPXtzdHlsZS5pZH0+XHJcbiAgICAgICAgICAgICAgICAgIHtzdHlsZS5uYW1lfVxyXG4gICAgICAgICAgICAgICAgPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgIDwvU2VsZWN0b3I+XHJcbiAgICAgICAgICAgIHtpc1Nob3dpbmdEaWZmICYmIHRoaXMuZGlmZkxlZ2VuZFVybCAmJiAoXHJcbiAgICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICAgIDxMZWdlbmRJbWFnZSB3aWR0aD1cIjEwMCVcIiBzcmM9e3RoaXMuZGlmZkxlZ2VuZFVybH0gLz5cclxuICAgICAgICAgICAgICAgIDxTcGFjaW5nIGJvdHRvbT17NH0gLz5cclxuICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgeyFpc1Nob3dpbmdEaWZmICYmIChcclxuICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgPFNwYWNpbmcgYm90dG9tPXs0fSAvPlxyXG4gICAgICAgICAgICAgICAgPEdlbmVyYXRlQnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuZ2VuZXJhdGVEaWZmfVxyXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWlzUmVhZHlUb0dlbmVyYXRlRGlmZn1cclxuICAgICAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cIlRKU0RpZmZlcmVuY2VEaXNhYmxlZEJ1dHRvblByb21wdFwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDxUZXh0U3BhbiBsYXJnZT5cclxuICAgICAgICAgICAgICAgICAgICB7dChcImRpZmZUb29sLmxhYmVscy5nZW5lcmF0ZURpZmZCdXR0b25UZXh0XCIpfVxyXG4gICAgICAgICAgICAgICAgICA8L1RleHRTcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9HZW5lcmF0ZUJ1dHRvbj5cclxuXHJcbiAgICAgICAgICAgICAgICB7IWlzUmVhZHlUb0dlbmVyYXRlRGlmZiAmJiAoXHJcbiAgICAgICAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICAgICAgPFNwYWNpbmcgYm90dG9tPXszfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICBzbWFsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgbGlnaHRcclxuICAgICAgICAgICAgICAgICAgICAgIHRleHRMaWdodFxyXG4gICAgICAgICAgICAgICAgICAgICAgaWQ9XCJUSlNEaWZmZXJlbmNlRGlzYWJsZWRCdXR0b25Qcm9tcHRcIlxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgIHt0KFwiZGlmZlRvb2wubGFiZWxzLmRpc2FibGVkQnV0dG9uUHJvbXB0XCIpfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvVGV4dD5cclxuICAgICAgICAgICAgICAgICAgICA8U3BhY2luZyBib3R0b209ezR9IC8+XHJcbiAgICAgICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgIDwvTWFpblBhbmVsPlxyXG4gICAgICAgIDwvRGlmZkFjY29yZGlvbj5cclxuICAgICAgICB7aXNTaG93aW5nRGlmZiAmJiAoXHJcbiAgICAgICAgICA8Q2xvc2VEaWZmZXJlbmNlQnV0dG9uXHJcbiAgICAgICAgICAgIHByaW1hcnlcclxuICAgICAgICAgICAgcm91bmRlZFxyXG4gICAgICAgICAgICB0ZXh0UHJvcHM9e3tcclxuICAgICAgICAgICAgICBzZW1pQm9sZDogdHJ1ZSxcclxuICAgICAgICAgICAgICBleHRyYUxhcmdlOiB0cnVlXHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIHRoZW1lPXt0aGVtZX1cclxuICAgICAgICAgICAgYWN0aXZlU3R5bGVzXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucmVzZXRUb29sfVxyXG4gICAgICAgICAgICByZW5kZXJJY29uPXsoKSA9PiAoXHJcbiAgICAgICAgICAgICAgPFN0eWxlZEljb24gbGlnaHQgc3R5bGVkV2lkdGg9XCIxM3B4XCIgZ2x5cGg9e0dMWVBIUy5jbG9zZUxpZ2h0fSAvPlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgICBpY29uUHJvcHM9e3tcclxuICAgICAgICAgICAgICBjc3M6IGBtYXJnaW4tcmlnaHQ6IDEwcHg7YFxyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICBDbG9zZVxyXG4gICAgICAgICAgPC9DbG9zZURpZmZlcmVuY2VCdXR0b24+XHJcbiAgICAgICAgKX1cclxuICAgICAgICB7IWlzU2hvd2luZ0RpZmYgJiYgKFxyXG4gICAgICAgICAgPExvY2F0aW9uUGlja2VyXHJcbiAgICAgICAgICAgIHRlcnJpYT17dGVycmlhfVxyXG4gICAgICAgICAgICBsb2NhdGlvbj17dGhpcy5sb2NhdGlvbn1cclxuICAgICAgICAgICAgb25QaWNraW5nPXt0aGlzLm9uVXNlclBpY2tpbmdMb2NhdGlvbn1cclxuICAgICAgICAgICAgb25QaWNrZWQ9e3RoaXMub25Vc2VyUGlja0xvY2F0aW9ufVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICApfVxyXG4gICAgICAgIHshaXNTaG93aW5nRGlmZiAmJlxyXG4gICAgICAgICAgUmVhY3RET00uY3JlYXRlUG9ydGFsKFxyXG4gICAgICAgICAgICAvLyBCb3R0b20gUGFuZWxcclxuICAgICAgICAgICAgPEJveCBjZW50ZXJlZCBmdWxsV2lkdGggZmxleFdyYXAgYmFja2dyb3VuZENvbG9yPXt0aGVtZS5kYXJrfT5cclxuICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxyXG4gICAgICAgICAgICAgICAgaGVhZGluZz17dChcImRpZmZUb29sLmxhYmVscy5kYXRlQ29tcGFyaXNvbkFcIil9XHJcbiAgICAgICAgICAgICAgICBpdGVtPXt0aGlzLnByb3BzLmxlZnRJdGVtfVxyXG4gICAgICAgICAgICAgICAgZXh0ZXJuYWxPcGVuQnV0dG9uPXt0aGlzLm9wZW5MZWZ0RGF0ZVBpY2tlckJ1dHRvbn1cclxuICAgICAgICAgICAgICAgIG9uRGF0ZVNldD17KCkgPT4gdGhpcy5zaG93SXRlbSh0aGlzLnByb3BzLmxlZnRJdGVtKX1cclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgIDxBcmVhRmlsdGVyU2VsZWN0aW9uXHJcbiAgICAgICAgICAgICAgICB0PXt0fVxyXG4gICAgICAgICAgICAgICAgbG9jYXRpb249e3RoaXMubG9jYXRpb259XHJcbiAgICAgICAgICAgICAgICBpc1BpY2tpbmdOZXdMb2NhdGlvbj17dGhpcy5faXNQaWNraW5nTmV3TG9jYXRpb259XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxyXG4gICAgICAgICAgICAgICAgaGVhZGluZz17dChcImRpZmZUb29sLmxhYmVscy5kYXRlQ29tcGFyaXNvbkJcIil9XHJcbiAgICAgICAgICAgICAgICBpdGVtPXt0aGlzLnByb3BzLnJpZ2h0SXRlbX1cclxuICAgICAgICAgICAgICAgIGV4dGVybmFsT3BlbkJ1dHRvbj17dGhpcy5vcGVuUmlnaHREYXRlUGlja2VyQnV0dG9ufVxyXG4gICAgICAgICAgICAgICAgb25EYXRlU2V0PXsoKSA9PiB0aGlzLnNob3dJdGVtKHRoaXMucHJvcHMucmlnaHRJdGVtKX1cclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L0JveD4sXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiVEpTLUJvdHRvbURvY2tMYXN0UG9ydGFsXCIpIVxyXG4gICAgICAgICAgKX1cclxuICAgICAgPC9UZXh0PlxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbmludGVyZmFjZSBEaWZmQWNjb3JkaW9uUHJvcHMge1xyXG4gIHZpZXdTdGF0ZTogVmlld1N0YXRlO1xyXG4gIHQ6IFRGdW5jdGlvbjtcclxufVxyXG5cclxuY29uc3QgRGlmZkFjY29yZGlvblRvZ2dsZSA9IHN0eWxlZChCb3gpYFxyXG4gICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuYm9yZGVyUmFkaXVzVG9wKHRoZW1lLnJhZGl1czQwQnV0dG9uKX1cclxuYDtcclxuXHJcbmNvbnN0IERpZmZBY2NvcmRpb246IFJlYWN0LkZDPERpZmZBY2NvcmRpb25Qcm9wcz4gPSAocHJvcHMpID0+IHtcclxuICBjb25zdCBbc2hvd0NoaWxkcmVuLCBzZXRTaG93Q2hpbGRyZW5dID0gdXNlU3RhdGUodHJ1ZSk7XHJcbiAgY29uc3QgeyB0LCB2aWV3U3RhdGUgfSA9IHByb3BzO1xyXG4gIGNvbnN0IHRoZW1lID0gdXNlVGhlbWUoKTtcclxuICByZXR1cm4gKFxyXG4gICAgPERpZmZBY2NvcmRpb25XcmFwcGVyIGlzTWFwRnVsbFNjcmVlbj17dmlld1N0YXRlLmlzTWFwRnVsbFNjcmVlbn0gY29sdW1uPlxyXG4gICAgICB7LyogRGlmZiBoZWFkZXIgKi99XHJcbiAgICAgIDxEaWZmQWNjb3JkaW9uVG9nZ2xlXHJcbiAgICAgICAgcGFkZGVkVmVydGljYWxseVxyXG4gICAgICAgIHBhZGRlZEhvcml6b250YWxseT17Mn1cclxuICAgICAgICBjZW50ZXJlZFxyXG4gICAgICAgIGp1c3RpZnlTcGFjZUJldHdlZW5cclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I9e3RoZW1lLmNvbG9yU2Vjb25kYXJ5fVxyXG4gICAgICA+XHJcbiAgICAgICAgPEJveCBjZW50ZXJlZD5cclxuICAgICAgICAgIDxTdHlsZWRJY29uIHN0eWxlZFdpZHRoPVwiMjBweFwiIGxpZ2h0IGdseXBoPXtHTFlQSFMuZGlmZmVyZW5jZX0gLz5cclxuICAgICAgICAgIDxTcGFjaW5nIHJpZ2h0PXsxfSAvPlxyXG4gICAgICAgICAgPFRleHRcclxuICAgICAgICAgICAgdGV4dExpZ2h0XHJcbiAgICAgICAgICAgIHNlbWlCb2xkXHJcbiAgICAgICAgICAgIC8vIGZvbnQtc2l6ZSBpcyBub24gc3RhbmRhcmQgd2l0aCB3aGF0IHdlIGhhdmUgc28gZmFyIGluIHRlcnJpYSxcclxuICAgICAgICAgICAgLy8gbGluZWhlaWdodCBhcyB3ZWxsIHRvIGhpdCBub25zdGFuZGFyZCBwYWRkaW5nc1xyXG4gICAgICAgICAgICBzdHlsZWRGb250U2l6ZT1cIjE3cHhcIlxyXG4gICAgICAgICAgICBzdHlsZWRMaW5lSGVpZ2h0PVwiMzBweFwiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIHt0KFwiZGlmZlRvb2wudGl0bGVcIil9XHJcbiAgICAgICAgICA8L1RleHQ+XHJcbiAgICAgICAgPC9Cb3g+XHJcbiAgICAgICAgey8qIG1hcmdpbi1yaWdodCA1cHggZm9yIHRoZSBwYWRkZWQgYnV0dG9uIG9mZnNldCAtIGxhcmdlciBjbGljayBhcmVhXHJcbiAgICAgICAgICAgIGJ1dCB2aXNpYmxlIHNob3VsZCBiZSBpbmxpbmUgd2l0aCByZXN0IG9mIGJveCAqL31cclxuICAgICAgICA8Qm94IGNlbnRlcmVkIGNzcz17XCJtYXJnaW4tcmlnaHQ6LTVweDtcIn0+XHJcbiAgICAgICAgICA8UmF3QnV0dG9uIG9uQ2xpY2s9eygpID0+IHZpZXdTdGF0ZS5jbG9zZVRvb2woKX0+XHJcbiAgICAgICAgICAgIDxUZXh0U3BhbiB0ZXh0TGlnaHQgc21hbGwgc2VtaUJvbGQgdXBwZXJjYXNlPlxyXG4gICAgICAgICAgICAgIHt0KFwiZGlmZlRvb2wuZXhpdFwiKX1cclxuICAgICAgICAgICAgPC9UZXh0U3Bhbj5cclxuICAgICAgICAgIDwvUmF3QnV0dG9uPlxyXG4gICAgICAgICAgPFNwYWNpbmcgcmlnaHQ9ezR9IC8+XHJcbiAgICAgICAgICA8UmF3QnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNob3dDaGlsZHJlbighc2hvd0NoaWxkcmVuKX0+XHJcbiAgICAgICAgICAgIDxCb3hTcGFuIHBhZGRlZFJhdGlvPXsxfSBjZW50ZXJlZD5cclxuICAgICAgICAgICAgICA8U3R5bGVkSWNvblxyXG4gICAgICAgICAgICAgICAgc3R5bGVkV2lkdGg9XCIxMnB4XCJcclxuICAgICAgICAgICAgICAgIGxpZ2h0XHJcbiAgICAgICAgICAgICAgICBnbHlwaD17c2hvd0NoaWxkcmVuID8gR0xZUEhTLm9wZW5lZCA6IEdMWVBIUy5jbG9zZWR9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9Cb3hTcGFuPlxyXG4gICAgICAgICAgPC9SYXdCdXR0b24+XHJcbiAgICAgICAgPC9Cb3g+XHJcbiAgICAgIDwvRGlmZkFjY29yZGlvblRvZ2dsZT5cclxuICAgICAge3Nob3dDaGlsZHJlbiAmJiBwcm9wcy5jaGlsZHJlbn1cclxuICAgIDwvRGlmZkFjY29yZGlvbldyYXBwZXI+XHJcbiAgKTtcclxufTtcclxuXHJcbmNvbnN0IERpZmZBY2NvcmRpb25XcmFwcGVyID0gc3R5bGVkKEJveCkuYXR0cnMoe1xyXG4gIGNvbHVtbjogdHJ1ZSxcclxuICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gIHN0eWxlZFdpZHRoOiBcIjM0MHB4XCJcclxuICAvLyBjaGFyY29hbEdyZXlCZzogdHJ1ZVxyXG59KTx7IGlzTWFwRnVsbFNjcmVlbjogYm9vbGVhbiB9PmBcclxuICB0b3A6IDcwcHg7XHJcbiAgbGVmdDogMHB4O1xyXG4gIG1pbi1oZWlnaHQ6IDIyMHB4O1xyXG4gIC8vIGJhY2tncm91bmQ6ICR7KHApID0+IHAudGhlbWUuZGFya307XHJcbiAgbWFyZ2luLWxlZnQ6ICR7KHByb3BzKSA9PlxyXG4gICAgcHJvcHMuaXNNYXBGdWxsU2NyZWVuID8gMTYgOiBwYXJzZUludChwcm9wcy50aGVtZS53b3JrYmVuY2hXaWR0aCkgKyA0MH1weDtcclxuICB0cmFuc2l0aW9uOiBtYXJnaW4tbGVmdCAwLjI1cztcclxuYDtcclxuXHJcbmNvbnN0IE1haW5QYW5lbCA9IHN0eWxlZChCb3gpLmF0dHJzKHtcclxuICBjb2x1bW46IHRydWUsXHJcbiAgb3ZlcmZsb3dZOiBcImF1dG9cIixcclxuICBwYWRkZWRSYXRpbzogMlxyXG59KTx7IGlzTWFwRnVsbFNjcmVlbjogYm9vbGVhbiB9PmBcclxuICAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmJvcmRlclJhZGl1c0JvdHRvbSh0aGVtZS5yYWRpdXM0MEJ1dHRvbil9XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogJHsocCkgPT4gcC50aGVtZS5kYXJrV2l0aE92ZXJsYXl9O1xyXG5gO1xyXG5cclxuY29uc3QgQmFja0J1dHRvbiA9IHN0eWxlZChCdXR0b24pLmF0dHJzKHtcclxuICBzZWNvbmRhcnk6IHRydWVcclxufSlgYDtcclxuXHJcbmNvbnN0IENsb3NlRGlmZmVyZW5jZUJ1dHRvbiA9IHN0eWxlZChCdXR0b24pYFxyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICBsZWZ0OiA1MCU7XHJcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xyXG4gIHRvcDogMThweDtcclxuICBwYWRkaW5nOiAwIDIwcHg7XHJcbmA7XHJcblxyXG5jb25zdCBHZW5lcmF0ZUJ1dHRvbiA9IHN0eWxlZChCdXR0b24pLmF0dHJzKHtcclxuICBwcmltYXJ5OiB0cnVlLFxyXG4gIHNwbGl0dGVyOiB0cnVlLFxyXG4gIGZ1bGxXaWR0aDogdHJ1ZVxyXG59KWBgO1xyXG5cclxuY29uc3QgU2VsZWN0b3IgPSAocHJvcHM6IGFueSkgPT4gKFxyXG4gIDxCb3ggZnVsbFdpZHRoIGNvbHVtbj5cclxuICAgIDxsYWJlbD5cclxuICAgICAgey8qIDxUZXh0IHRleHRMaWdodD57cHJvcHMubGFiZWx9OjwvVGV4dD4gKi99XHJcbiAgICAgIDxUZXh0IHRleHRMaWdodCBjc3M9e1wicCB7bWFyZ2luOiAwO31cIn0+XHJcbiAgICAgICAge3BhcnNlQ3VzdG9tTWFya2Rvd25Ub1JlYWN0V2l0aE9wdGlvbnMoYCR7cHJvcHMubGFiZWx9OmAsIHtcclxuICAgICAgICAgIGluamVjdFRlcm1zQXNUb29sdGlwczogdHJ1ZSxcclxuICAgICAgICAgIHRvb2x0aXBUZXJtczogcHJvcHMudmlld1N0YXRlLnRlcnJpYS5jb25maWdQYXJhbWV0ZXJzLmhlbHBDb250ZW50VGVybXNcclxuICAgICAgICB9KX1cclxuICAgICAgPC9UZXh0PlxyXG4gICAgICA8U3BhY2luZyBib3R0b209ezF9IC8+XHJcbiAgICAgIDxTZWxlY3Qgey4uLnByb3BzfT57cHJvcHMuY2hpbGRyZW59PC9TZWxlY3Q+XHJcbiAgICAgIHtwcm9wcy5zcGFjaW5nQm90dG9tICYmIDxTcGFjaW5nIGJvdHRvbT17Mn0gLz59XHJcbiAgICA8L2xhYmVsPlxyXG4gIDwvQm94PlxyXG4pO1xyXG5cclxuY29uc3QgQXJlYUZpbHRlclNlbGVjdGlvbiA9IChwcm9wczoge1xyXG4gIHQ6IFRGdW5jdGlvbjtcclxuICBsb2NhdGlvbj86IExhdExvbkhlaWdodDtcclxuICBpc1BpY2tpbmdOZXdMb2NhdGlvbjogYm9vbGVhbjtcclxufSkgPT4ge1xyXG4gIGNvbnN0IHsgdCwgbG9jYXRpb24sIGlzUGlja2luZ05ld0xvY2F0aW9uIH0gPSBwcm9wcztcclxuICBsZXQgbG9jYXRpb25UZXh0ID0gXCItXCI7XHJcbiAgaWYgKGxvY2F0aW9uKSB7XHJcbiAgICBjb25zdCB7IGxvbmdpdHVkZSwgbGF0aXR1ZGUgfSA9IHByZXR0aWZ5Q29vcmRpbmF0ZXMoXHJcbiAgICAgIGxvY2F0aW9uLmxvbmdpdHVkZSxcclxuICAgICAgbG9jYXRpb24ubGF0aXR1ZGUsXHJcbiAgICAgIHtcclxuICAgICAgICBkaWdpdHM6IDJcclxuICAgICAgfVxyXG4gICAgKTtcclxuICAgIGxvY2F0aW9uVGV4dCA9IGAke2xvbmdpdHVkZX0gJHtsYXRpdHVkZX1gO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxCb3hcclxuICAgICAgY29sdW1uXHJcbiAgICAgIGNlbnRlcmVkXHJcbiAgICAgIHN0eWxlZE1pbldpZHRoPVwiMjMwcHhcIlxyXG4gICAgICBjc3M9e2BcclxuICAgICAgICBAbWVkaWEgKG1heC13aWR0aDogJHsocHJvcHM6IGFueSkgPT4gcHJvcHMudGhlbWUubWR9cHgpIHtcclxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIH1cclxuICAgICAgYH1cclxuICAgID5cclxuICAgICAgPEJveCBjZW50ZXJlZD5cclxuICAgICAgICA8U3R5bGVkSWNvbiBsaWdodCBzdHlsZWRXaWR0aD1cIjE2cHhcIiBnbHlwaD17R0xZUEhTLmxvY2F0aW9uMn0gLz5cclxuICAgICAgICA8U3BhY2luZyByaWdodD17Mn0gLz5cclxuICAgICAgICA8VGV4dCB0ZXh0TGlnaHQgZXh0cmFMYXJnZT5cclxuICAgICAgICAgIHt0KFwiZGlmZlRvb2wubGFiZWxzLmFyZWFGaWx0ZXJTZWxlY3Rpb25cIil9XHJcbiAgICAgICAgPC9UZXh0PlxyXG4gICAgICA8L0JveD5cclxuICAgICAgPFNwYWNpbmcgYm90dG9tPXszfSAvPlxyXG4gICAgICA8Qm94IHN0eWxlZE1pbkhlaWdodD1cIjQwcHhcIj5cclxuICAgICAgICB7aXNQaWNraW5nTmV3TG9jYXRpb24gPyAoXHJcbiAgICAgICAgICA8VGV4dFxyXG4gICAgICAgICAgICB0ZXh0TGlnaHRcclxuICAgICAgICAgICAgZXh0cmFFeHRyYUxhcmdlXHJcbiAgICAgICAgICAgIGJvbGRcclxuICAgICAgICAgICAgLy8gVXNpbmcgbGVnYWN5IExvYWRlci5qc3ggbWVhbnMgd2Ugb3ZlcnJpZGUgYXQgYSBoaWdoZXIgbGV2ZWwgdG8gaW5oZXJpdFxyXG4gICAgICAgICAgICAvLyB0aGlzIGZpbGxzIHR5bGVcclxuICAgICAgICAgICAgY3NzPXtgXHJcbiAgICAgICAgICAgICAgZmlsbDogJHsoeyB0aGVtZSB9OiBhbnkpID0+IHRoZW1lLnRleHRMaWdodH07XHJcbiAgICAgICAgICAgIGB9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxMb2FkZXJcclxuICAgICAgICAgICAgICBsaWdodFxyXG4gICAgICAgICAgICAgIG1lc3NhZ2U9e2BRdWVyeWluZyAke2xvY2F0aW9uID8gXCJuZXdcIiA6IFwiXCJ9IHBvc2l0aW9uLi4uYH1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgIDwvVGV4dD5cclxuICAgICAgICApIDogKFxyXG4gICAgICAgICAgPFRleHQgdGV4dExpZ2h0IGJvbGQgaGVhZGluZyB0ZXh0QWxpZ25DZW50ZXI+XHJcbiAgICAgICAgICAgIHtsb2NhdGlvblRleHR9XHJcbiAgICAgICAgICA8L1RleHQ+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9Cb3g+XHJcbiAgICA8L0JveD5cclxuICApO1xyXG59O1xyXG5cclxuY29uc3QgTG9jYXRpb25BbmREYXRlc0Rpc3BsYXlCb3ggPSBzdHlsZWQoQm94KS5hdHRycyh7XHJcbiAgY29sdW1uOiB0cnVlLFxyXG4gIGNoYXJjb2FsR3JleUJnOiB0cnVlXHJcbn0pYFxyXG4gIGNvbG9yOiAkeyhwKSA9PiBwLnRoZW1lLnRleHRMaWdodH07XHJcbiAgcGFkZGluZzogMTVweDtcclxuICA+ICR7Qm94fTpmaXJzdC1jaGlsZCB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxM3B4O1xyXG4gIH1cclxuICA+IGRpdiA+IGRpdjpmaXJzdC1jaGlsZCB7XHJcbiAgICAvKiBUaGUgbGFiZWxzICovXHJcbiAgICBtYXJnaW4tcmlnaHQ6IDVweDtcclxuICAgIG1pbi13aWR0aDogNTBweDtcclxuICB9XHJcbmA7XHJcblxyXG5jb25zdCBMZWdlbmRJbWFnZSA9IGZ1bmN0aW9uIChwcm9wczogYW55KSB7XHJcbiAgcmV0dXJuIChcclxuICAgIDxpbWdcclxuICAgICAgey4uLnByb3BzfVxyXG4gICAgICAvLyBTaG93IHRoZSBsZWdlbmQgb25seSBpZiBpdCBsb2FkcyBzdWNjZXNzZnVsbHksIHNvIHdlIHN0YXJ0IG91dCBoaWRkZW5cclxuICAgICAgc3R5bGU9e3sgZGlzcGxheTogXCJub25lXCIsIG1hcmdpblRvcDogXCI0cHhcIiB9fVxyXG4gICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgIG9uTG9hZD17KGUpID0+IChlLnRhcmdldC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiKX1cclxuICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICBvbkVycm9yPXsoZSkgPT4gKGUudGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIil9XHJcbiAgICAvPlxyXG4gICk7XHJcbn07XHJcblxyXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVTcGxpdEl0ZW0oXHJcbiAgc291cmNlSXRlbTogRGlmZmFibGVJdGVtLFxyXG4gIHNwbGl0RGlyZWN0aW9uOiBTcGxpdERpcmVjdGlvblxyXG4pOiBQcm9taXNlPERpZmZhYmxlSXRlbT4ge1xyXG4gIGNvbnN0IHRlcnJpYSA9IHNvdXJjZUl0ZW0udGVycmlhO1xyXG4gIGNvbnN0IHJlZiA9IG5ldyBTcGxpdEl0ZW1SZWZlcmVuY2UoY3JlYXRlR3VpZCgpLCB0ZXJyaWEpO1xyXG4gIHJlZi5zZXRUcmFpdChDb21tb25TdHJhdGEudXNlciwgXCJzcGxpdFNvdXJjZUl0ZW1JZFwiLCBzb3VyY2VJdGVtLnVuaXF1ZUlkKTtcclxuICB0ZXJyaWEuYWRkTW9kZWwocmVmKTtcclxuICBhd2FpdCByZWYubG9hZFJlZmVyZW5jZSgpO1xyXG4gIHJldHVybiBydW5JbkFjdGlvbigoKSA9PiB7XHJcbiAgICBpZiAocmVmLnRhcmdldCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHRocm93IEVycm9yKFwiZmFpbGVkIHRvIHNwbGl0IGl0ZW1cIik7XHJcbiAgICB9XHJcbiAgICBjb25zdCBuZXdJdGVtID0gcmVmLnRhcmdldCBhcyBEaWZmYWJsZUl0ZW07XHJcbiAgICBuZXdJdGVtLnNldFRyYWl0KENvbW1vblN0cmF0YS51c2VyLCBcInNob3dcIiwgdHJ1ZSk7XHJcbiAgICBuZXdJdGVtLnNldFRyYWl0KENvbW1vblN0cmF0YS51c2VyLCBcInNwbGl0RGlyZWN0aW9uXCIsIHNwbGl0RGlyZWN0aW9uKTtcclxuICAgIG5ld0l0ZW0uc2V0VHJhaXQoQ29tbW9uU3RyYXRhLnVzZXIsIFwiY3VycmVudFRpbWVcIiwgbnVsbCk7XHJcbiAgICBuZXdJdGVtLnNldFRyYWl0KENvbW1vblN0cmF0YS51c2VyLCBcImluaXRpYWxUaW1lU291cmNlXCIsIFwibm9uZVwiKTtcclxuICAgIGlmIChoYXNPcGFjaXR5KG5ld0l0ZW0pKSB7XHJcbiAgICAgIC8vIFdlIHdhbnQgdG8gc2hvdyB0aGUgaXRlbSBvbiB0aGUgbWFwIG9ubHkgYWZ0ZXIgZGF0ZSBzZWxlY3Rpb24uIEF0IHRoZVxyXG4gICAgICAvLyBzYW1lIHRpbWUgd2UgY2Fubm90IHNldCBgc2hvd2AgdG8gZmFsc2UgYmVjYXVzZSBpZiB3ZVxyXG4gICAgICAvLyBkbyBzbywgZGF0ZSBwaWNraW5nIHdoaWNoIHJlbGllcyBvbiBmZWF0dXJlIHBpY2tpbmcsIHdpbGwgbm90IHdvcmsuIFNvXHJcbiAgICAgIC8vIHdlIHNpbXBseSBzZXQgdGhlIG9wYWNpdHkgb2YgdGhlIGl0ZW0gdG8gMC5cclxuICAgICAgbmV3SXRlbS5zZXRUcmFpdChDb21tb25TdHJhdGEudXNlciwgXCJvcGFjaXR5XCIsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIHNldERlZmF1bHREaWZmU3R5bGUobmV3SXRlbSk7XHJcblxyXG4gICAgLy8gU2V0IHRoZSBkZWZhdWx0IHN0eWxlIHRvIHRydWUgY29sb3Igc3R5bGUgaWYgaXQgZXhpc3RzXHJcbiAgICBjb25zdCB0cnVlQ29sb3IgPSBuZXdJdGVtLnN0eWxlU2VsZWN0YWJsZURpbWVuc2lvbnM/LlswXT8ub3B0aW9ucz8uZmluZChcclxuICAgICAgKHN0eWxlKSA9PiBpc0RlZmluZWQoc3R5bGUubmFtZSkgJiYgc3R5bGUubmFtZS5zZWFyY2goL3RydWUvaSkgPj0gMFxyXG4gICAgKTtcclxuICAgIGlmICh0cnVlQ29sb3I/LmlkKSB7XHJcbiAgICAgIG5ld0l0ZW0uc3R5bGVTZWxlY3RhYmxlRGltZW5zaW9ucz8uWzBdPy5zZXREaW1lbnNpb25WYWx1ZShcclxuICAgICAgICBDb21tb25TdHJhdGEudXNlcixcclxuICAgICAgICB0cnVlQ29sb3IuaWRcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICB0ZXJyaWEub3ZlcmxheXMuYWRkKG5ld0l0ZW0pO1xyXG4gICAgcmV0dXJuIG5ld0l0ZW07XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJZiB0aGUgaXRlbSBoYXMgb25seSBvbmUgYXZhaWxhYmxlIGRpZmYgc3R5bGUsIGF1dG8tc2VsZWN0IGl0XHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREZWZhdWx0RGlmZlN0eWxlKGl0ZW06IERpZmZhYmxlSXRlbSkge1xyXG4gIGlmIChpdGVtLmRpZmZTdHlsZUlkICE9PSB1bmRlZmluZWQpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGNvbnN0IGF2YWlsYWJsZVN0eWxlcyA9IGZpbHRlck91dFVuZGVmaW5lZChcclxuICAgIGl0ZW0uYXZhaWxhYmxlRGlmZlN0eWxlcy5tYXAoKGRpZmZTdHlsZUlkKSA9PlxyXG4gICAgICBpdGVtLnN0eWxlU2VsZWN0YWJsZURpbWVuc2lvbnM/LlswXT8ub3B0aW9ucz8uZmluZChcclxuICAgICAgICAoc3R5bGUpID0+IHN0eWxlLmlkID09PSBkaWZmU3R5bGVJZFxyXG4gICAgICApXHJcbiAgICApXHJcbiAgKTtcclxuXHJcbiAgaWYgKGF2YWlsYWJsZVN0eWxlcy5sZW5ndGggPT09IDEpIHtcclxuICAgIGl0ZW0uc2V0VHJhaXQoQ29tbW9uU3RyYXRhLnVzZXIsIFwiZGlmZlN0eWxlSWRcIiwgYXZhaWxhYmxlU3R5bGVzWzBdLmlkKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZVNwbGl0SXRlbShpdGVtOiBEaWZmYWJsZUl0ZW0pIHtcclxuICBjb25zdCB0ZXJyaWEgPSBpdGVtLnRlcnJpYTtcclxuICB0ZXJyaWEub3ZlcmxheXMucmVtb3ZlKGl0ZW0pO1xyXG4gIGlmIChpdGVtLnNvdXJjZVJlZmVyZW5jZSAmJiB0ZXJyaWEud29ya2JlbmNoLmNvbnRhaW5zKGl0ZW0pID09PSBmYWxzZSkge1xyXG4gICAgdGVycmlhLnJlbW92ZU1vZGVsUmVmZXJlbmNlcyhpdGVtLnNvdXJjZVJlZmVyZW5jZSk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBkb2VzRmVhdHVyZUJlbG9uZ1RvSXRlbShcclxuICBmZWF0dXJlOiBUZXJyaWFGZWF0dXJlLFxyXG4gIGl0ZW06IERpZmZhYmxlSXRlbVxyXG4pOiBCb29sZWFuIHtcclxuICBpZiAoIU1hcHBhYmxlTWl4aW4uaXNNaXhlZEludG8oaXRlbSkpIHJldHVybiBmYWxzZTtcclxuICBjb25zdCBpbWFnZXJ5UHJvdmlkZXIgPSBmZWF0dXJlLmltYWdlcnlMYXllcj8uaW1hZ2VyeVByb3ZpZGVyO1xyXG4gIGlmIChpbWFnZXJ5UHJvdmlkZXIgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xyXG4gIHJldHVybiAoXHJcbiAgICBpdGVtLm1hcEl0ZW1zLmZpbmQoXHJcbiAgICAgIChtKSA9PiBJbWFnZXJ5UGFydHMuaXMobSkgJiYgbS5pbWFnZXJ5UHJvdmlkZXIgPT09IGltYWdlcnlQcm92aWRlclxyXG4gICAgKSAhPT0gdW5kZWZpbmVkXHJcbiAgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0VGltZUZpbHRlckZyb21Mb2NhdGlvbihcclxuICBpdGVtOiBEaWZmYWJsZUl0ZW0sXHJcbiAgbG9jYXRpb246IExhdExvbkhlaWdodCxcclxuICBpbTogSW1hZ2VyeVByb3ZpZGVyXHJcbik6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gIGNvbnN0IGNhcnRvID0gbmV3IENhcnRvZ3JhcGhpYyhcclxuICAgIENlc2l1bU1hdGgudG9SYWRpYW5zKGxvY2F0aW9uLmxvbmdpdHVkZSksXHJcbiAgICBDZXNpdW1NYXRoLnRvUmFkaWFucyhsb2NhdGlvbi5sYXRpdHVkZSlcclxuICApO1xyXG4gIC8vIFdlIGp1c3QgbmVlZCB0byBzZXQgdGhpcyB0byBhIGhpZ2ggZW5vdWdoIGxldmVsIHN1cHBvcnRlZCBieSB0aGUgc2VydmljZVxyXG4gIGNvbnN0IGxldmVsID0gMzA7XHJcbiAgY29uc3QgdGlsZSA9IGltLnRpbGluZ1NjaGVtZS5wb3NpdGlvblRvVGlsZVhZKGNhcnRvLCBsZXZlbCk7XHJcbiAgcmV0dXJuIGl0ZW0uc2V0VGltZUZpbHRlckZyb21Mb2NhdGlvbih7XHJcbiAgICBwb3NpdGlvbjoge1xyXG4gICAgICBsYXRpdHVkZTogbG9jYXRpb24ubGF0aXR1ZGUsXHJcbiAgICAgIGxvbmdpdHVkZTogbG9jYXRpb24ubG9uZ2l0dWRlLFxyXG4gICAgICBoZWlnaHQ6IGxvY2F0aW9uLmhlaWdodFxyXG4gICAgfSxcclxuICAgIHRpbGVDb29yZHM6IHtcclxuICAgICAgeDogdGlsZS54LFxyXG4gICAgICB5OiB0aWxlLnksXHJcbiAgICAgIGxldmVsXHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhc09wYWNpdHkoXHJcbiAgbW9kZWw6IGFueVxyXG4pOiBtb2RlbCBpcyBIYXNUcmFpdDxJbWFnZXJ5UHJvdmlkZXJUcmFpdHMsIFwib3BhY2l0eVwiPiB7XHJcbiAgcmV0dXJuIGhhc1RyYWl0cyhtb2RlbCwgSW1hZ2VyeVByb3ZpZGVyVHJhaXRzLCBcIm9wYWNpdHlcIik7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGhvaXN0U3RhdGljcyh3aXRoVHJhbnNsYXRpb24oKSh3aXRoVGhlbWUoRGlmZlRvb2wpKSwgRGlmZlRvb2wpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBZUE7QUFmQTtBQUVBO0FBUUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFLQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQXBEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFzREE7QUFBQTtBQVVBO0FBV0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFNQTtBQUFBO0FBQUE7QUFIQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBL0dBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQXFFQTtBQWtEQTtBQVdBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFMQTtBQU1BO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFVQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUlBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQU9BO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQVdBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBTUE7QUFDQTtBQUFBO0FBSkE7QUFDQTtBQUtBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFJQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUdBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBWUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFLQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBS0E7QUFBQTtBQUVBO0FBQUE7QUFLQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBTUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQVVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFPQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQU1BO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFLQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFLQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBS0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQU9BO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBSUE7QUFBQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQU9BO0FBQUE7QUFBQTtBQUFBO0FBM2lCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWlqQkE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQU9BO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBU0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUFBO0FBRUE7QUFHQTtBQUtBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFMQTtBQUFBO0FBT0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFPQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFNQTtBQUNBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBT0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFZQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBRUE7QUFBQTtBQTRDQTtBQUNBO0FBQ0E7QUFGQTtBQUFBO0FBMUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUdBO0FBRUE7QUFLQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBN0xBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQXNCQTtBQUFBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/ReactViews/Tools/DiffTool/DiffTool.tsx\n");

/***/ }),

/***/ "./lib/ReactViews/Tools/DiffTool/LocationPicker.tsx":
/*!**********************************************************!*\
  !*** ./lib/ReactViews/Tools/DiffTool/LocationPicker.tsx ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.array.reverse.js */ \"../../../node_modules/core-js/modules/es.array.reverse.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\nvar _mobx = __webpack_require__(/*! mobx */ \"../../../node_modules/mobx/dist/mobx.esm.js\");\nvar _mobxReact = __webpack_require__(/*! mobx-react */ \"../../../node_modules/mobx-react/dist/mobxreact.esm.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"../../../node_modules/react/index.js\"));\nvar _Ellipsoid = _interopRequireDefault(__webpack_require__(/*! terriajs-cesium/Source/Core/Ellipsoid */ \"../../../node_modules/terriajs-cesium/Source/Core/Ellipsoid.js\"));\nvar _Math = _interopRequireDefault(__webpack_require__(/*! terriajs-cesium/Source/Core/Math */ \"../../../node_modules/terriajs-cesium/Source/Core/Math.js\"));\nvar _LocationMarkerUtils = __webpack_require__(/*! ../../../Models/LocationMarkerUtils */ \"./lib/Models/LocationMarkerUtils.ts\");\nvar _MapInteractionMode = _interopRequireWildcard(__webpack_require__(/*! ../../../Models/MapInteractionMode */ \"./lib/Models/MapInteractionMode.ts\"));\nvar _Loader = _interopRequireDefault(__webpack_require__(/*! ../../Loader */ \"./lib/ReactViews/Loader.tsx\"));\nvar _class, _class2, _descriptor, _descriptor2, _descriptor3;\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar LocationPicker = exports[\"default\"] = (0, _mobxReact.observer)(_class = (_class2 = /*#__PURE__*/function (_React$Component) {\n  _inherits(LocationPicker, _React$Component);\n  function LocationPicker(props) {\n    var _this;\n    _classCallCheck(this, LocationPicker);\n    _this = _callSuper(this, LocationPicker, [props]);\n    _initializerDefineProperty(_assertThisInitialized(_this), \"pickMode\", _descriptor, _assertThisInitialized(_this));\n    _initializerDefineProperty(_assertThisInitialized(_this), \"currentPick\", _descriptor2, _assertThisInitialized(_this));\n    _initializerDefineProperty(_assertThisInitialized(_this), \"pickDisposer\", _descriptor3, _assertThisInitialized(_this));\n    (0, _mobx.makeObservable)(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(LocationPicker, [{\n    key: \"setupPicker\",\n    value: function setupPicker() {\n      var _this2 = this;\n      var _this$props = this.props,\n        terria = _this$props.terria,\n        location = _this$props.location,\n        onPicking = _this$props.onPicking,\n        onPicked = _this$props.onPicked;\n      this.pickMode = new _MapInteractionMode[\"default\"]({\n        message: \"\",\n        messageAsNode: /*#__PURE__*/_react[\"default\"].createElement(\"div\", null),\n        uiMode: _MapInteractionMode.UIMode.Difference\n      });\n      addInteractionModeToMap(terria, this.pickMode);\n      if (location) showMarker(terria, location);\n      this.pickDisposer = (0, _mobx.reaction)(function () {\n        return _this2.pickMode.pickedFeatures;\n      }, (0, _mobx.action)(function (newPick) {\n        var _newPick$allFeaturesA;\n        if (newPick === undefined || newPick.pickPosition === undefined) {\n          return;\n        }\n        _this2.pickMode.customUi = function () {\n          return /*#__PURE__*/_react[\"default\"].createElement(_Loader[\"default\"], {\n            message: \"Querying \".concat(location ? \"new\" : \"\", \" position...\")\n          });\n        };\n        var position = cartesianToDegrees(newPick.pickPosition);\n        showMarker(_this2.props.terria, position);\n        _this2.currentPick = newPick;\n        onPicking(position);\n        (_newPick$allFeaturesA = newPick.allFeaturesAvailablePromise) === null || _newPick$allFeaturesA === void 0 || _newPick$allFeaturesA.then(function () {\n          if (newPick === _this2.currentPick) {\n            onPicked(newPick, position);\n          }\n        });\n      }));\n    }\n  }, {\n    key: \"destroyPicker\",\n    value: function destroyPicker() {\n      var _this$pickDisposer;\n      var terria = this.props.terria;\n      if (this.pickMode) {\n        removeInteractionModeFromMap(terria, this.pickMode);\n      }\n      (0, _LocationMarkerUtils.removeMarker)(terria);\n      this.pickMode = undefined;\n      this.currentPick = undefined;\n      (_this$pickDisposer = this.pickDisposer) === null || _this$pickDisposer === void 0 || _this$pickDisposer.call(this);\n      this.pickDisposer = undefined;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setupPicker();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.destroyPicker();\n      this.setupPicker();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.destroyPicker();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n  return LocationPicker;\n}(_react[\"default\"].Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"pickMode\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"currentPick\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, \"pickDisposer\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _applyDecoratedDescriptor(_class2.prototype, \"setupPicker\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"setupPicker\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"destroyPicker\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"destroyPicker\"), _class2.prototype)), _class2)) || _class;\nfunction addInteractionModeToMap(terria, mode) {\n  terria.mapInteractionModeStack.push(mode);\n}\nfunction removeInteractionModeFromMap(terria, mode) {\n  var _terria$mapInteractio = terria.mapInteractionModeStack.slice(-1),\n    _terria$mapInteractio2 = _slicedToArray(_terria$mapInteractio, 1),\n    currentMode = _terria$mapInteractio2[0];\n  if (currentMode === mode) {\n    terria.mapInteractionModeStack.pop();\n  }\n}\nfunction showMarker(terria, location) {\n  (0, _LocationMarkerUtils.addMarker)(terria, {\n    name: \"User selection\",\n    location: location,\n    customMarkerIcon: __webpack_require__(/*! ../../../../wwwroot/images/difference-pin.png */ \"./wwwroot/images/difference-pin.png\")\n  });\n}\nfunction cartesianToDegrees(cartesian) {\n  var carto = _Ellipsoid[\"default\"].WGS84.cartesianToCartographic(cartesian);\n  return {\n    longitude: _Math[\"default\"].toDegrees(carto.longitude),\n    latitude: _Math[\"default\"].toDegrees(carto.latitude)\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvUmVhY3RWaWV3cy9Ub29scy9EaWZmVG9vbC9Mb2NhdGlvblBpY2tlci50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvUmVhY3RWaWV3cy9Ub29scy9EaWZmVG9vbC9Mb2NhdGlvblBpY2tlci50c3g/ZTliNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhY3Rpb24sIG9ic2VydmFibGUsIHJlYWN0aW9uLCBtYWtlT2JzZXJ2YWJsZSB9IGZyb20gXCJtb2J4XCI7XHJcbmltcG9ydCB7IG9ic2VydmVyIH0gZnJvbSBcIm1vYngtcmVhY3RcIjtcclxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgQ2FydGVzaWFuMyBmcm9tIFwidGVycmlhanMtY2VzaXVtL1NvdXJjZS9Db3JlL0NhcnRlc2lhbjNcIjtcclxuaW1wb3J0IEVsbGlwc29pZCBmcm9tIFwidGVycmlhanMtY2VzaXVtL1NvdXJjZS9Db3JlL0VsbGlwc29pZFwiO1xyXG5pbXBvcnQgQ2VzaXVtTWF0aCBmcm9tIFwidGVycmlhanMtY2VzaXVtL1NvdXJjZS9Db3JlL01hdGhcIjtcclxuaW1wb3J0IExhdExvbkhlaWdodCBmcm9tIFwiLi4vLi4vLi4vQ29yZS9MYXRMb25IZWlnaHRcIjtcclxuaW1wb3J0IFBpY2tlZEZlYXR1cmVzIGZyb20gXCIuLi8uLi8uLi9NYXAvUGlja2VkRmVhdHVyZXMvUGlja2VkRmVhdHVyZXNcIjtcclxuaW1wb3J0IHsgYWRkTWFya2VyLCByZW1vdmVNYXJrZXIgfSBmcm9tIFwiLi4vLi4vLi4vTW9kZWxzL0xvY2F0aW9uTWFya2VyVXRpbHNcIjtcclxuaW1wb3J0IE1hcEludGVyYWN0aW9uTW9kZSwgeyBVSU1vZGUgfSBmcm9tIFwiLi4vLi4vLi4vTW9kZWxzL01hcEludGVyYWN0aW9uTW9kZVwiO1xyXG5pbXBvcnQgVGVycmlhIGZyb20gXCIuLi8uLi8uLi9Nb2RlbHMvVGVycmlhXCI7XHJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIi4uLy4uL0xvYWRlclwiO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzVHlwZSB7XHJcbiAgdGVycmlhOiBUZXJyaWE7XHJcbiAgbG9jYXRpb24/OiBMYXRMb25IZWlnaHQ7XHJcbiAgb25QaWNraW5nOiAocGlja2luZ0xvY2F0aW9uOiBMYXRMb25IZWlnaHQpID0+IHZvaWQ7XHJcbiAgb25QaWNrZWQ6IChcclxuICAgIHBpY2tlZEZlYXR1cmVzOiBQaWNrZWRGZWF0dXJlcyxcclxuICAgIHBpY2tlZExvY2F0aW9uOiBMYXRMb25IZWlnaHRcclxuICApID0+IHZvaWQ7XHJcbn1cclxuXHJcbkBvYnNlcnZlclxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2NhdGlvblBpY2tlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxQcm9wc1R5cGU+IHtcclxuICBAb2JzZXJ2YWJsZSBwcml2YXRlIHBpY2tNb2RlPzogTWFwSW50ZXJhY3Rpb25Nb2RlO1xyXG4gIEBvYnNlcnZhYmxlIHByaXZhdGUgY3VycmVudFBpY2s/OiBQaWNrZWRGZWF0dXJlcztcclxuICBAb2JzZXJ2YWJsZSBwcml2YXRlIHBpY2tEaXNwb3Nlcj86ICgpID0+IHZvaWQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wc1R5cGUpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuICAgIG1ha2VPYnNlcnZhYmxlKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgQGFjdGlvblxyXG4gIHNldHVwUGlja2VyKCkge1xyXG4gICAgY29uc3QgeyB0ZXJyaWEsIGxvY2F0aW9uLCBvblBpY2tpbmcsIG9uUGlja2VkIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgdGhpcy5waWNrTW9kZSA9IG5ldyBNYXBJbnRlcmFjdGlvbk1vZGUoe1xyXG4gICAgICBtZXNzYWdlOiBcIlwiLFxyXG4gICAgICBtZXNzYWdlQXNOb2RlOiA8ZGl2PjwvZGl2PixcclxuICAgICAgdWlNb2RlOiBVSU1vZGUuRGlmZmVyZW5jZVxyXG4gICAgfSk7XHJcbiAgICBhZGRJbnRlcmFjdGlvbk1vZGVUb01hcCh0ZXJyaWEsIHRoaXMucGlja01vZGUpO1xyXG4gICAgaWYgKGxvY2F0aW9uKSBzaG93TWFya2VyKHRlcnJpYSwgbG9jYXRpb24pO1xyXG5cclxuICAgIHRoaXMucGlja0Rpc3Bvc2VyID0gcmVhY3Rpb24oXHJcbiAgICAgICgpID0+IHRoaXMucGlja01vZGUhLnBpY2tlZEZlYXR1cmVzLFxyXG4gICAgICBhY3Rpb24oKG5ld1BpY2s6IFBpY2tlZEZlYXR1cmVzIHwgdW5kZWZpbmVkKSA9PiB7XHJcbiAgICAgICAgaWYgKG5ld1BpY2sgPT09IHVuZGVmaW5lZCB8fCBuZXdQaWNrLnBpY2tQb3NpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnBpY2tNb2RlIS5jdXN0b21VaSA9ICgpID0+IChcclxuICAgICAgICAgIDxMb2FkZXIgbWVzc2FnZT17YFF1ZXJ5aW5nICR7bG9jYXRpb24gPyBcIm5ld1wiIDogXCJcIn0gcG9zaXRpb24uLi5gfSAvPlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gY2FydGVzaWFuVG9EZWdyZWVzKG5ld1BpY2sucGlja1Bvc2l0aW9uKTtcclxuICAgICAgICBzaG93TWFya2VyKHRoaXMucHJvcHMudGVycmlhLCBwb3NpdGlvbik7XHJcblxyXG4gICAgICAgIHRoaXMuY3VycmVudFBpY2sgPSBuZXdQaWNrO1xyXG4gICAgICAgIG9uUGlja2luZyhwb3NpdGlvbik7XHJcbiAgICAgICAgbmV3UGljay5hbGxGZWF0dXJlc0F2YWlsYWJsZVByb21pc2U/LnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgaWYgKG5ld1BpY2sgPT09IHRoaXMuY3VycmVudFBpY2spIHtcclxuICAgICAgICAgICAgb25QaWNrZWQobmV3UGljaywgcG9zaXRpb24pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIEBhY3Rpb25cclxuICBkZXN0cm95UGlja2VyKCkge1xyXG4gICAgY29uc3QgeyB0ZXJyaWEgfSA9IHRoaXMucHJvcHM7XHJcbiAgICBpZiAodGhpcy5waWNrTW9kZSkge1xyXG4gICAgICByZW1vdmVJbnRlcmFjdGlvbk1vZGVGcm9tTWFwKHRlcnJpYSwgdGhpcy5waWNrTW9kZSk7XHJcbiAgICB9XHJcbiAgICByZW1vdmVNYXJrZXIodGVycmlhKTtcclxuICAgIHRoaXMucGlja01vZGUgPSB1bmRlZmluZWQ7XHJcbiAgICB0aGlzLmN1cnJlbnRQaWNrID0gdW5kZWZpbmVkO1xyXG4gICAgdGhpcy5waWNrRGlzcG9zZXI/LigpO1xyXG4gICAgdGhpcy5waWNrRGlzcG9zZXIgPSB1bmRlZmluZWQ7XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgIHRoaXMuc2V0dXBQaWNrZXIoKTtcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcclxuICAgIHRoaXMuZGVzdHJveVBpY2tlcigpO1xyXG4gICAgdGhpcy5zZXR1cFBpY2tlcigpO1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICB0aGlzLmRlc3Ryb3lQaWNrZXIoKTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYWRkSW50ZXJhY3Rpb25Nb2RlVG9NYXAodGVycmlhOiBUZXJyaWEsIG1vZGU6IE1hcEludGVyYWN0aW9uTW9kZSkge1xyXG4gIHRlcnJpYS5tYXBJbnRlcmFjdGlvbk1vZGVTdGFjay5wdXNoKG1vZGUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmVJbnRlcmFjdGlvbk1vZGVGcm9tTWFwKFxyXG4gIHRlcnJpYTogVGVycmlhLFxyXG4gIG1vZGU6IE1hcEludGVyYWN0aW9uTW9kZVxyXG4pIHtcclxuICBjb25zdCBbY3VycmVudE1vZGVdID0gdGVycmlhLm1hcEludGVyYWN0aW9uTW9kZVN0YWNrLnNsaWNlKC0xKTtcclxuICBpZiAoY3VycmVudE1vZGUgPT09IG1vZGUpIHtcclxuICAgIHRlcnJpYS5tYXBJbnRlcmFjdGlvbk1vZGVTdGFjay5wb3AoKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dNYXJrZXIodGVycmlhOiBUZXJyaWEsIGxvY2F0aW9uOiBMYXRMb25IZWlnaHQpIHtcclxuICBhZGRNYXJrZXIodGVycmlhLCB7XHJcbiAgICBuYW1lOiBcIlVzZXIgc2VsZWN0aW9uXCIsXHJcbiAgICBsb2NhdGlvbixcclxuICAgIGN1c3RvbU1hcmtlckljb246IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi93d3dyb290L2ltYWdlcy9kaWZmZXJlbmNlLXBpbi5wbmdcIilcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2FydGVzaWFuVG9EZWdyZWVzKGNhcnRlc2lhbjogQ2FydGVzaWFuMykge1xyXG4gIGNvbnN0IGNhcnRvID0gRWxsaXBzb2lkLldHUzg0LmNhcnRlc2lhblRvQ2FydG9ncmFwaGljKGNhcnRlc2lhbik7XHJcbiAgcmV0dXJuIHtcclxuICAgIGxvbmdpdHVkZTogQ2VzaXVtTWF0aC50b0RlZ3JlZXMoY2FydG8ubG9uZ2l0dWRlKSxcclxuICAgIGxhdGl0dWRlOiBDZXNpdW1NYXRoLnRvRGVncmVlcyhjYXJ0by5sYXRpdHVkZSlcclxuICB9O1xyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFZQTtBQU1BO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQXpFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUEwRUE7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/ReactViews/Tools/DiffTool/LocationPicker.tsx\n");

/***/ }),

/***/ "./wwwroot/images/difference-pin.png":
/*!*******************************************!*\
  !*** ./wwwroot/images/difference-pin.png ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAA2CAYAAAAyEzKAAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGaADAAQAAAABAAAANgAAAAAbYi+LAAADOUlEQVRYCe1YPWgUQRT+3pEoqEWilSRBjSGNWKhga7DwBwTRKgqChXVM0igKGhRMFCXRQhsbFWOlIAhBm5ythRaCmCBGBAmIwRSx0EjW783tbnb3Zvbn7gqLe7A3M9977/tm3s7OLidIMW8QuyE4ihW2wA5em3it5/WL+A94+IAS3rJ9LhNsHSZJ3POYPoSTxC8xuTfpd44Fs/RdwTgmRZgZsZiIN4QOup/x2huJKdYVvOE0j8s4vgWJoQgFdpJ8ildH4Ky5FQoIDlPovXIYEW8EG7CIdxToqZk4mSj4hDbskhEslYxvETcbKqCkOmHlpQnLtJHAPK81CjTUBH9Yq80tJO3PJSD4wthH3LKz3NK6604xbytbt+nEBf0tDDzkjgo9L1jfE1rfAOF9vIGfeMLxkQCztuTXe9Jlda6CC1iH01EBdZkxcXYXdJxiXSrSmRKgrrKM2ol8vJyR36kieky4TfDd7aQny0/+Eu/Jx1QSYE9dfvLrSqZSSXjEcJsfs8UYPPsImtLnpIdbUg+38IipIhSeusA5dOO+DOC3dwdr8RlniF1nJdLK7XHL91aOlUFMM7ivirwaWCb0ldPZwnh9xrJsWm5jv5ZLj4C7WdG+v5Xt9pwCmnJPfyoi7XjK2c0o0DBTPuWlGRE+WCuc3bWGCSgR+QxvIGLI2zHJds706/+Z4yqUz1ilXOxS9S9LdtnH62vIY/h8llDEjNvwmELmbVaziuYrT8RiIqaGJZyP+It3mW94IpnWB5CfQmXeuH2RuHxdwWt+GvUlg2MriTiHWbaVyDi7W4kftgVaRfwPtYe2BCfm4YHrA88q4hNdYBu+CZ3kFccSV37RFeMU4azmmTjmSozhJYya+Bi4OnCKmJBuftIIz9s0U/823EoLSRXRY50i1psZktJv4kKgumPdwskwbumX3NIHkjgn8IplOliFJ4DUlYSxHgbY13dJ1JYprHim5RLhi2eG5/VEjI1jg8dA+yCXiEltxdUYRXIcc8YHue5JkOKdZYF84ypy5+ZfScBeQ9sUKVS0Zrma5SpUgULBzd3VLFehChQK/g93l/7roxa0OddTbCWe+f9qiS9h8z9WTg38A1O1vXOERmoNAAAAAElFTkSuQmCC\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi93d3dyb290L2ltYWdlcy9kaWZmZXJlbmNlLXBpbi5wbmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi93d3dyb290L2ltYWdlcy9kaWZmZXJlbmNlLXBpbi5wbmc/NGQ1OSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCa0FBQUEyQ0FZQUFBQXlFektBQUFBQUFYTlNSMElBcnM0YzZRQUFBRVJsV0VsbVRVMEFLZ0FBQUFnQUFZZHBBQVFBQUFBQkFBQUFHZ0FBQUFBQUE2QUJBQU1BQUFBQkFBRUFBS0FDQUFRQUFBQUJBQUFBR2FBREFBUUFBQUFCQUFBQU5nQUFBQUFiWWkrTEFBQURPVWxFUVZSWUNlMVlQV2dVUVJUKzNwRW9xRVdpbFNSQmpTR05XS2hnYTdEd0J3VFJLZ3FDaFhWTTBpZ0tHaFJNRkNYUlFoc2JGV09sSUFoQm01eXRoUmFDbUNCR0JBbUl3UlN4MEVqVzc4M3RibmIzWnZibjdncUxlN0EzTTk5NzcvdG0zczdPTGlkSU1XOFF1eUU0aWhXMndBNWVtM2l0NS9XTCtBOTQrSUFTM3JKOUxoTnNIU1pKM1BPWVBvU1R4Qzh4dVRmcGQ0NEZzL1Jkd1RnbVJaZ1pzWmlJTjRRT3VwL3gyaHVKS2RZVnZPRTBqOHM0dmdXSm9RZ0ZkcEo4aWxkSDRLeTVGUW9JRGxQb3ZYSVlFVzhFRzdDSWR4VG9xWms0bVNqNGhEYnNraEVzbFl4dkVUY2JLcUNrT21IbHBRbkx0SkhBUEs4MUNqVFVCSDlZcTgwdEpPM1BKU0Q0d3RoSDNMS3ozTks2NjA0eGJ5dGJ0K25FQmYwdEREemtqZ285TDFqZkUxcmZBT0Y5dklHZmVNTHhrUUN6dHVUWGU5SmxkYTZDQzFpSDAxRUJkWmt4Y1hZWGRKeGlYU3JTbVJLZ3JyS00yb2w4dkp5UjM2a2lla3k0VGZEZDdhUW55MC8rRXUvSngxUVNZRTlkZnZMclNxWlNTWGpFY0pzZnM4VVlQUHNJbXRMbnBJZGJVZyszOElpcEloU2V1c0E1ZE9PK0RPQzNkd2RyOFJsbmlGMW5KZExLN1hITDkxYU9sVUZNTTdpdmlyd2FXQ2IwbGRQWnduaDl4ckpzV201anY1WkxqNEM3V2RHK3Y1WHQ5cHdDbW5KUGZ5b2k3WGpLMmMwbzBEQlRQdVdsR1JFK1dDdWMzYldHQ1NnUitReHZJR0xJMnpISmRzNzA2LytaNHlxVXoxaWxYT3hTOVM5TGR0bkg2MnZJWS9oOGxsREVqTnZ3bUVMbWJWYXppdVlyVDhSaUlxYUdKWnlQK0l0M21XOTRJcG5XQjVDZlFtWGV1SDJSdUh4ZHdXdCtHdlVsZzJNcmlUaUhXYmFWeURpN1c0a2Z0Z1ZhUmZ3UHRZZTJCQ2ZtNFlIckE4OHE0aE5kWUJ1K0NaM2tGY2NTVjM3UkZlTVU0YXptbVRqbVNvemhKWXlhK0JpNE9uQ0ttSkJ1ZnRJSXo5czBVLzgyM0VvTFNSWFJZNTBpMXBzWmt0SnY0a0tndW1QZHdza3didW1YM05JSGtqZ244SXBsT2xpRko0RFVsWVN4SGdiWTEzZEoxSllwckhpbTVSTGhpMmVHNS9WRWpJMWpnOGRBK3lDWGlFbHR4ZFVZUlhJY2M4WUh1ZTVKa09LZFpZRjg0eXB5NStaZlNjQmVROXNVS1ZTMFpybWE1U3BVZ1VMQnpkM1ZMRmVoQ2hRSy9nOTNsLzdyb3hhME9kZFRiQ1dlK2Y5cWlTOWg4ejlXVGczOEExTzF2WE9FUm1vTkFBQUFBRWxGVGtTdVFtQ0NcIiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./wwwroot/images/difference-pin.png\n");

/***/ })

}]);